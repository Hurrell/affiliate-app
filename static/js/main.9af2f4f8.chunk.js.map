{"version":3,"sources":["renderers/renderIncomeByTag.js","functions/getCommission.js","functions/incomeByTag.js","functions/xlsxImporter.js","functions/incomeByCategory.js","renderers/commissionTable.js","renderers/renderIncomeByCategory.js","renderers/renderIncomeByDevice.js","functions/incomeByDevice.js","App.js","serviceWorker.js","index.js"],"names":["RenderIncomeByTag","props","layout","groupMode","data","totalsByTag","keys","indexBy","margin","top","right","bottom","left","padding","colors","scheme","defs","id","type","background","color","size","stagger","rotation","lineWidth","spacing","fill","match","borderColor","from","modifiers","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","legend","legendPosition","legendOffset","axisLeft","labelSkipWidth","labelSkipHeight","labelTextColor","legends","dataFrom","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemOpacity","symbolSize","effects","on","style","animate","motionStiffness","motionDamping","getCommission","category","specifiedCommissions","defaultCommissionList","commission","length","specCommissionIndex","findIndex","e","Number","commissionIndex","incomeByTag","top10","tagTotals","Error","item","itemIndex","tag","lineCost","qty","push","sales","income","tabletIncome","deviceTypeGroup","desktopIncome","phoneIncome","toFixed","sort","a","b","slice","xlsxImporter","file","target","files","Promise","resolve","reject","reader","FileReader","onload","event","workbook","XLSX","read","result","first_worksheet","Sheets","SheetNames","utils","sheet_to_json","header","feb2020Headers","i","jsObjData","name","row","asin","date","linkType","indirectSales","arrayToJsObj","onerror","console","log","readAsBinaryString","incomeByCategory","categoryTotals","CommissionTable","useState","commissions","setCommissions","categoriesArray","commissionTable","obj","localeCompare","updateCommissions","handleCommissionChange","dataset","value","onCommissionChange","listCategories","className","data-category","onChange","defaultValue","RenderIncomeByCategory","totalsByCategory","RenderIncomeByDevice","totalsByDevice","incomeByDevice","deviceTotals","device","App","setJsObjData","setSpecifiedCommissions","setTop10","handleFileInput","incomeByTagChart","incomeByCategoryChart","incomeByDeviceChart","accept","checked","onClick","index","concat","newCommissions","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"uXA0GeA,G,KAtGW,SAACC,GACzB,OACE,kBAAC,IAAD,CAIEC,OAAO,aACPC,UAAU,UACVC,KAAMH,EAAMI,YACZC,KAAM,CAAC,eAAgB,cAAe,iBAEtCC,QAAQ,MACRC,OAAQ,CAAEC,IAAK,GAAIC,MAAO,IAAKC,OAAQ,GAAIC,KAAM,KACjDC,QAAS,GACTC,OAAQ,CAAEC,OAAQ,QAClBC,KAAM,CACJ,CACEC,GAAI,OACJC,KAAM,cACNC,WAAY,UACZC,MAAO,UACPC,KAAM,EACNR,QAAS,EACTS,SAAS,GAEX,CACEL,GAAI,QACJC,KAAM,eACNC,WAAY,UACZC,MAAO,UACPG,UAAW,GACXC,UAAW,EACXC,QAAS,KAGbC,KAAM,CACJ,CACEC,MAAO,CACLV,GAAI,SAENA,GAAI,QAEN,CACEU,MAAO,CACLV,GAAI,YAENA,GAAI,UAGRW,YAAa,CAAEC,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACrDC,QAAS,KACTC,UAAW,KACXC,WAAY,CACVC,SAAU,EACVC,YAAa,EACbC,aAAc,EACdC,OAAQ,aACRC,eAAgB,SAChBC,aAAc,IAEhBC,SAAU,CACRN,SAAU,EACVC,YAAa,EACbC,aAAc,EACdC,OAAQ,GACRC,eAAgB,SAChBC,cAAe,IAEjBE,eAAgB,GAChBC,gBAAiB,GACjBC,eAAgB,CAAEd,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACxDc,QAAS,CACP,CACEC,SAAU,OACVC,OAAQ,eACRC,UAAW,SACXC,SAAS,EACTC,WAAY,IACZC,WAAY,EACZC,aAAc,EACdC,UAAW,IACXC,WAAY,GACZC,cAAe,gBACfC,YAAa,IACbC,WAAY,GACZC,QAAS,CACP,CACEC,GAAI,QACJC,MAAO,CACLJ,YAAa,OAMvBK,SAAS,EACTC,gBAAiB,GACjBC,cAAe,O,QCvCNC,EA9DO,SAACC,EAAUC,GAE/B,IAAMC,EAAwB,CAC5B,CAAEF,SAAU,gCAAiCG,WAAY,KACzD,CAAEH,SAAU,gBAAiBG,WAAY,KACzC,CAAEH,SAAU,oBAAqBG,WAAY,KAC7C,CAAEH,SAAU,iCAAkCG,WAAY,KAE1D,CAAEH,SAAU,2BAA4BG,WAAY,KACpD,CAAEH,SAAU,eAAgBG,WAAY,KACxC,CAAEH,SAAU,kBAAmBG,WAAY,KAC3C,CAAEH,SAAU,qBAAsBG,WAAY,KAC9C,CAAEH,SAAU,qBAAsBG,WAAY,KAE9C,CAAEH,SAAU,UAAWG,WAAY,KACnC,CAAEH,SAAU,sBAAuBG,WAAY,KAC/C,CAAEH,SAAU,yBAA0BG,WAAY,GAClD,CAAEH,SAAU,sBAAuBG,WAAY,KAC/C,CAAEH,SAAU,iCAAkCG,WAAY,KAE1D,CAAEH,SAAU,cAAeG,WAAY,KACvC,CAAEH,SAAU,wBAAyBG,WAAY,KACjD,CAAEH,SAAU,aAAcG,WAAY,MACtC,CAAEH,SAAU,gBAAiBG,WAAY,MAGzC,CAAEH,SAAU,qCAAsCG,WAAY,MAC9D,CAAEH,SAAU,OAAQG,WAAY,KAChC,CAAEH,SAAU,YAAaG,WAAY,KACrC,CAAEH,SAAU,kCAAmCG,WAAY,MAC3D,CAAEH,SAAU,mBAAoBG,WAAY,KAC5C,CAAEH,SAAU,oBAAqBG,WAAY,OAG/C,GAAIF,EAAqBG,OAAQ,CAM/B,IAAMC,EAAsBJ,EAAqBK,WAC/C,SAACC,GAAD,OAAOP,IAAaO,EAAEP,YAExB,IAA6B,IAAzBK,EAEF,OAAOG,OAAOP,EAAqBI,GAAqBF,YAI5D,IAAMM,EAAkBP,EAAsBI,WAC5C,SAACC,GAAD,OAAOP,IAAaO,EAAEP,YAGxB,IAAyB,IAArBS,EACF,MAAO,IAGP,IAAMN,EAAaD,EAAsBO,GAAiBN,WAC1D,OAAOK,OAAOL,ICsCHO,EA9FK,SAACtE,EAAM6D,EAAsBU,GAC/C,IAAIC,EAAY,GAEhB,IAAKxE,EAAKA,KACR,MAAMyE,MAAM,WAJ2C,oBAOxCzE,EAAKA,MAPmC,yBAOhD0E,EAPgD,QAQnDC,EAAYH,EAAUN,WAAU,SAACC,GAAD,OAAOA,EAAES,MAAQF,EAAKE,OACtDC,EAAWT,OAAOM,EAAKI,KAAOV,OAAOM,EAAK,cAE3B,IAAfC,EACFH,EAAUO,KAAK,CACbH,IAAKF,EAAKE,IACVI,MAAOH,EACPI,OAAQb,OACNT,EAAce,EAAKd,SAAUC,GAAwBgB,GAEvDK,aAC2B,WAAzBR,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNO,cAC2B,YAAzBV,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNQ,YAC2B,UAAzBX,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,KAIRL,EAAUG,GAAWK,OAASH,EAC9BL,EAAUG,GAAWM,QAAUb,OAC7BT,EAAce,EAAKd,SAAUC,GAAwBgB,GAEvDL,EAAUG,GAAWO,cACM,WAAzBR,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNL,EAAUG,GAAWS,eACM,YAAzBV,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNL,EAAUG,GAAWU,aACM,UAAzBX,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,IAzCV,2BAA6B,IAP4B,kDAoDzCL,GApDyC,IAoDzD,2BAA2B,CAAC,IAAnBI,EAAkB,QACrBA,EAAII,QAENJ,EAAII,MAAQZ,OAAOQ,EAAII,MAAMM,QAAQ,KAGnCV,EAAIK,SAGNL,EAAIK,OAASb,OAAOQ,EAAIK,OAAOK,QAAQ,KAGrCV,EAAIM,eACNN,EAAIM,aAAed,OAAOQ,EAAIM,aAAaI,QAAQ,KAEjDV,EAAIQ,gBACNR,EAAIQ,cAAgBhB,OAAOQ,EAAIQ,cAAcE,QAAQ,KAEnDV,EAAIS,cACNT,EAAIS,YAAcjB,OAAOQ,EAAIS,YAAYC,QAAQ,MAvEI,8BA2FzD,OAhBAd,EAAYA,EAAUe,MAAK,SAACC,EAAGC,GAC7B,OAAID,EAAEP,OAASQ,EAAER,QACP,EACCO,EAAEP,OAASQ,EAAER,OACf,EAEF,KAILV,GAASC,EAAUR,OAAS,KAE9BQ,EAAYA,EAAUkB,MAAM,EAAG,IAI1BlB,G,iBCrBMmB,EAvBM,SAACxB,GACpB,IAAIyB,EAAOzB,EAAE0B,OAAOC,MAAM,GAE1B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAS,IAAIC,WAEnBD,EAAOE,OAAS,SAACC,GAEf,IAAIC,EAAWC,IAAKC,KAAKH,EAAMR,OAAOY,OAAQ,CAAE3F,KAAM,WAElD4F,EAAkBJ,EAASK,OAAOL,EAASM,WAAW,IACpD5G,EAAOuG,IAAKM,MAAMC,cAAcJ,EAAiB,CAAEK,OAAQ,IAGjEf,EA1De,SAAChG,GACpB,GAAuB,KAAnBA,EAAK,GAAGgE,OACV,MAAMS,MAAM,2BAEd,IAAMuC,EAAiB,CACrB,WACA,OACA,OACA,OACA,MACA,WACA,YACA,MACA,iBACA,qBAGF,IAAK,IAAIC,KAAKD,EACZ,GAAIA,EAAeC,KAAOjH,EAAK,GAAGiH,GAChC,MAAMxC,MAAM,8BAMhB,IAFA,IAAIyC,EAAY,CAAEC,KAAMnH,EAAK,GAAG,GAAIA,KAAM,IAEjCiH,EAAI,EAAGA,EAAIjH,EAAKgE,OAAQiD,IAAK,CACpC,IAAIG,EAAMpH,EAAKiH,GACfC,EAAUlH,KAAK+E,KAAK,CAClBnB,SAAUwD,EAAI,GACdD,KAAMC,EAAI,GACVC,KAAMD,EAAI,GACVE,KAAMF,EAAI,GACVtC,IAAKsC,EAAI,GACT,WAAYA,EAAI,GAChBG,SAAUH,EAAI,GACdxC,IAAKwC,EAAI,GACTI,cAAeJ,EAAI,GACnBjC,gBAAiBiC,EAAI,KAIzB,OAAOF,EAiBKO,CAAazH,KAEvBkG,EAAOwB,QAAU,SAACvD,GAChBwD,QAAQC,IAAIzD,IAEd+B,EAAO2B,mBAAmBjC,OC8BfkC,EAhGU,SAAC9H,EAAM6D,EAAsBU,GACpD,IAAIwD,EAAiB,GAErB,IAAK/H,EAAKA,KACR,MAAMyE,MAAM,WAJgD,oBAO7CzE,EAAKA,MAPwC,yBAOrD0E,EAPqD,QAQxDC,EAAYoD,EAAe7D,WAC7B,SAACC,GAAD,OAAOA,EAAEP,WAAac,EAAKd,YAEzBiB,EAAWT,OAAOM,EAAKI,KAAOV,OAAOM,EAAK,cAE3B,IAAfC,EACFoD,EAAehD,KAAK,CAClBnB,SAAUc,EAAKd,SACfoB,MAAOH,EACPI,OAAQb,OACNT,EAAce,EAAKd,SAAUC,GAAwBgB,GAEvDK,aAC2B,WAAzBR,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNO,cAC2B,YAAzBV,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNQ,YAC2B,UAAzBX,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,KAIRkD,EAAepD,GAAWK,OAASH,EACnCkD,EAAepD,GAAWM,QAAUb,OAClCT,EAAce,EAAKd,SAAUC,GAAwBgB,GAEvDkD,EAAepD,GAAWO,cACC,WAAzBR,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNkD,EAAepD,GAAWS,eACC,YAAzBV,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,EACNkD,EAAepD,GAAWU,aACC,UAAzBX,EAAKS,gBACDxB,EAAce,EAAKd,SAAUC,GAAwBgB,EACrD,IA3CV,2BAA6B,IAPiC,kDAsDzCkD,GAtDyC,IAsD9D,2BAAqC,CAAC,IAA7BnE,EAA4B,QAC/BA,EAASoB,QAEXpB,EAASoB,MAAQZ,OAAOR,EAASoB,MAAMM,QAAQ,KAG7C1B,EAASqB,SAGXrB,EAASqB,OAASb,OAAOR,EAASqB,OAAOK,QAAQ,KAG/C1B,EAASsB,eACXtB,EAASsB,aAAed,OAAOR,EAASsB,aAAaI,QAAQ,KAE3D1B,EAASwB,gBACXxB,EAASwB,cAAgBhB,OAAOR,EAASwB,cAAcE,QAAQ,KAE7D1B,EAASyB,cACXzB,EAASyB,YAAcjB,OAAOR,EAASyB,YAAYC,QAAQ,MAzED,8BA6F9D,OAhBAyC,EAAiBA,EAAexC,MAAK,SAACC,EAAGC,GACvC,OAAID,EAAEP,OAASQ,EAAER,QACP,EACCO,EAAEP,OAASQ,EAAER,OACf,EAEF,KAILV,GAASwD,EAAe/D,OAAS,KAEnC+D,EAAiBA,EAAerC,MAAM,EAAG,IAIpCqC,GCtBMC,MArEf,SAAyBnI,GAAQ,IAAD,EACQoI,mBAAS,IADjB,mBACvBC,EADuB,KACVC,EADU,KAqC9B,IAAKtI,EAAMG,KACT,OAAO,MAnCiB,SAACkH,GACzB,IADuC,EACnCkB,EAAkBN,EACpBZ,EACArH,EAAMgE,qBACNhE,EAAM0E,OAGJ8D,EAAkB,GAPiB,cAYvBD,GAZuB,IAYvC,2BAAiC,CAAC,IAAzBE,EAAwB,QAC/BD,EAAgBtD,KAAK,CACnBnB,SAAU0E,EAAI1E,SACdG,WAAYJ,EAAc2E,EAAI1E,SAAU/D,EAAMgE,yBAfX,8BAuBvC,GAJAwE,EAAgB9C,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE5B,SAAS2E,cAAc9C,EAAE7B,aAItDyE,EAAgBrE,SAAWkE,EAAYlE,OACzCmE,EAAeE,QAEf,IAAK,IAAIpB,KAAKoB,EACRA,EAAgBpB,GAAGrD,WAAasE,EAAYjB,GAAGrD,UACjDuE,EAAeE,GASrBG,CAAkB3I,EAAMG,MAG1B,IA3C8B,EA2CxByI,EAAyB,SAACpC,GAC9B,IAAIzC,EAAWyC,EAAMR,OAAO6C,QAAQ9E,SAChC+E,EAAQtC,EAAMR,OAAO8C,MACzB9I,EAAM+I,mBAAmBhF,EAAU+E,IAGjCE,EAAiB,GAjDS,cAmDbX,GAnDa,IAmD9B,2BAA8B,CAAC,IAAtBxD,EAAqB,QAC5BmE,EAAe9D,KACb,yBAAK+D,UAAU,YACb,yBAAKA,UAAU,iBAAiBpE,EAAKd,UACrC,6BACE,2BACE9C,KAAK,SACLiI,gBAAerE,EAAKd,SACpBoF,SAAUP,EACVK,UAAU,mBACVG,aAAc,IAAM7E,OAAOM,EAAKX,kBA7DZ,8BAmE9B,OAAO,yBAAK+E,UAAU,kBAAkBD,ICmC3BK,EAtGgB,SAACrJ,GAC9B,OACE,kBAAC,IAAD,CAIEC,OAAO,aACPC,UAAU,UACVC,KAAMH,EAAMsJ,iBACZjJ,KAAM,CAAC,eAAgB,cAAe,iBAEtCC,QAAQ,WACRC,OAAQ,CAAEC,IAAK,GAAIC,MAAO,IAAKC,OAAQ,GAAIC,KAAM,KACjDC,QAAS,GACTC,OAAQ,CAAEC,OAAQ,QAClBC,KAAM,CACJ,CACEC,GAAI,OACJC,KAAM,cACNC,WAAY,UACZC,MAAO,UACPC,KAAM,EACNR,QAAS,EACTS,SAAS,GAEX,CACEL,GAAI,QACJC,KAAM,eACNC,WAAY,UACZC,MAAO,UACPG,UAAW,GACXC,UAAW,EACXC,QAAS,KAGbC,KAAM,CACJ,CACEC,MAAO,CACLV,GAAI,SAENA,GAAI,QAEN,CACEU,MAAO,CACLV,GAAI,YAENA,GAAI,UAGRW,YAAa,CAAEC,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACrDC,QAAS,KACTC,UAAW,KACXC,WAAY,CACVC,SAAU,EACVC,YAAa,EACbC,aAAc,EACdC,OAAQ,aACRC,eAAgB,SAChBC,aAAc,IAEhBC,SAAU,CACRN,SAAU,EACVC,YAAa,EACbC,aAAc,EACdC,OAAQ,GACRC,eAAgB,SAChBC,cAAe,IAEjBE,eAAgB,GAChBC,gBAAiB,GACjBC,eAAgB,CAAEd,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACxDc,QAAS,CACP,CACEC,SAAU,OACVC,OAAQ,eACRC,UAAW,SACXC,SAAS,EACTC,WAAY,IACZC,WAAY,EACZC,aAAc,EACdC,UAAW,IACXC,WAAY,GACZC,cAAe,gBACfC,YAAa,IACbC,WAAY,GACZC,QAAS,CACP,CACEC,GAAI,QACJC,MAAO,CACLJ,YAAa,OAMvBK,SAAS,EACTC,gBAAiB,GACjBC,cAAe,MCKN0F,EAtGc,SAACvJ,GAC5B,OACE,kBAAC,IAAD,CAIEC,OAAO,aACPC,UAAU,UACVC,KAAMH,EAAMwJ,eACZnJ,KAAM,CAAC,UAEPC,QAAQ,kBACRC,OAAQ,CAAEC,IAAK,GAAIC,MAAO,IAAKC,OAAQ,GAAIC,KAAM,KACjDC,QAAS,GACTC,OAAQ,CAAEC,OAAQ,QAClBC,KAAM,CACJ,CACEC,GAAI,OACJC,KAAM,cACNC,WAAY,UACZC,MAAO,UACPC,KAAM,EACNR,QAAS,EACTS,SAAS,GAEX,CACEL,GAAI,QACJC,KAAM,eACNC,WAAY,UACZC,MAAO,UACPG,UAAW,GACXC,UAAW,EACXC,QAAS,KAGbC,KAAM,CACJ,CACEC,MAAO,CACLV,GAAI,SAENA,GAAI,QAEN,CACEU,MAAO,CACLV,GAAI,YAENA,GAAI,UAGRW,YAAa,CAAEC,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACrDC,QAAS,KACTC,UAAW,KACXC,WAAY,CACVC,SAAU,EACVC,YAAa,EACbC,aAAc,EACdC,OAAQ,aACRC,eAAgB,SAChBC,aAAc,IAEhBC,SAAU,CACRN,SAAU,EACVC,YAAa,EACbC,aAAc,EACdC,OAAQ,GACRC,eAAgB,SAChBC,cAAe,IAEjBE,eAAgB,GAChBC,gBAAiB,GACjBC,eAAgB,CAAEd,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACxDc,QAAS,CACP,CACEC,SAAU,OACVC,OAAQ,eACRC,UAAW,SACXC,SAAS,EACTC,WAAY,IACZC,WAAY,EACZC,aAAc,EACdC,UAAW,IACXC,WAAY,GACZC,cAAe,gBACfC,YAAa,IACbC,WAAY,GACZC,QAAS,CACP,CACEC,GAAI,QACJC,MAAO,CACLJ,YAAa,OAMvBK,SAAS,EACTC,gBAAiB,GACjBC,cAAe,MCpCN4F,EA/DQ,SAACtJ,EAAM6D,EAAsBU,GAClD,IAAIgF,EAAe,GAEnB,IAAKvJ,EAAKA,KACR,MAAMyE,MAAM,WAJ8C,oBAO3CzE,EAAKA,MAPsC,yBAOnD0E,EAPmD,QAQtDC,EAAY4E,EAAarF,WAC3B,SAACC,GAAD,OAAOA,EAAEgB,kBAAoBT,EAAKS,mBAEhCN,EAAWT,OAAOM,EAAKI,KAAOV,OAAOM,EAAK,cAE3B,IAAfC,EACF4E,EAAaxE,KAAK,CAChBI,gBAAiBT,EAAKS,gBACtBH,MAAOH,EACPI,OAAQb,OACNT,EAAce,EAAKd,SAAUC,GAAwBgB,MAKzD0E,EAAa5E,GAAWK,OAASH,EACjC0E,EAAa5E,GAAWM,QAAUb,OAChCT,EAAce,EAAKd,SAAUC,GAAwBgB,KAlB3D,2BAA6B,IAP+B,8BA8B5D,cAAmB0E,EAAnB,eAAiC,CAA5B,IAAIC,EAAM,KACTA,EAAOxE,QAETwE,EAAOxE,MAAQZ,OAAOoF,EAAOxE,MAAMM,QAAQ,KAGzCkE,EAAOvE,SAGTuE,EAAOvE,OAASb,OAAOoF,EAAOvE,OAAOK,QAAQ,KAqBjD,OAhBAiE,EAAeA,EAAahE,MAAK,SAACC,EAAGC,GACnC,OAAID,EAAEP,OAASQ,EAAER,QACP,EACCO,EAAEP,OAASQ,EAAER,OACf,EAEF,MCqDIwE,MA3Ff,WAAgB,IAAD,EACqBxB,oBAAS,GAD9B,mBACNf,EADM,KACKwC,EADL,OAE2CzB,mBAAS,IAFpD,mBAENpE,EAFM,KAEgB8F,EAFhB,OAGa1B,oBAAS,GAHtB,mBAGN1D,EAHM,KAGCqF,EAHD,KAIPC,EAAe,uCAAG,WAAO1F,GAAP,eAAAqB,EAAA,+EAEDG,EAAaxB,GAFZ,OAEdnE,EAFc,OAGpB2H,QAAQC,IAAI5H,GACZ0J,EAAa1J,GAJO,gDAMpB2H,QAAQC,IAAR,MANoB,yDAAH,sDASjBkC,EAAmB,GACnBC,EAAwB,GACxBC,EAAsB,GAkD1B,OAjDI9C,EAAUlH,OACZ8J,EACE,kBAAC,EAAD,CACE7J,YAAaqE,EAAY4C,EAAWrD,EAAsBU,KAG9DwF,EACE,kBAAC,EAAD,CACEZ,iBAAkBrB,EAChBZ,EACArD,EACAU,GAEFA,MAAOA,IAGXyF,EACE,kBAAC,EAAD,CACEX,eAAgBC,EAAepC,EAAWrD,EAAsBU,MA8BtEoD,QAAQC,IAAI,kCAAmC/D,GAE7C,yBAAKiF,UAAU,OACb,2BACEhI,KAAK,OACLD,GAAG,gBACHoJ,OAAO,QACPjB,SAAUa,IAEZ,mDACsB,IACpB,2BAAO/I,KAAK,WAAWoJ,QAAS3F,EAAO4F,QApCpB,SAAC9D,GACxBuD,GAAUrF,MAmC+D,KAEvE,kBAAC,EAAD,CACEvE,KAAMkH,EACNrD,qBAAsBA,EACtB+E,mBArCyB,SAAChF,EAAU+E,GACxChB,QAAQC,IAAI,cAAee,GAC3B,IAAIyB,EAAQvG,EAAqBK,WAC/B,SAACQ,GAAD,OAAUA,EAAKd,WAAaA,KAE9B,IAAe,IAAXwG,EACFT,EACE9F,EAAqBwG,OAAO,CAC1BzG,SAAUA,EACVG,WAAYK,QAAQuE,EAAQ,KAAKrD,QAAQ,WAGxC,CACL,IAAIgF,EAAc,YAAOzG,GACzByG,EAAeF,GAAOrG,WAAaK,QAAQuE,EAAQ,KAAKrD,QAAQ,IAChEqE,EAAwBW,KAuBtB/F,MAAOA,IAET,yBAAKuE,UAAU,gBAAgBkB,GAE/B,yBAAKlB,UAAU,kBAAkBiB,GACjC,yBAAKjB,UAAU,aAAagB,KCxFdS,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASnJ,MACvB,2DCZNoJ,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL5D,QAAQ4D,MAAMA,EAAMC,c","file":"static/js/main.9af2f4f8.chunk.js","sourcesContent":["import { ResponsiveBar } from \"@nivo/bar\";\nimport React from \"react\";\nimport { useTheme } from \"@nivo/core\";\n\nconst RenderIncomeByTag = (props) => {\n  return (\n    <ResponsiveBar\n      // axisLeft={{\n      //   renderTick: CustomTick,\n      // }}\n      layout=\"horizontal\"\n      groupMode=\"stacked\"\n      data={props.totalsByTag}\n      keys={[\"tabletIncome\", \"phoneIncome\", \"desktopIncome\"]}\n      //   keys={[\"hot dog\", \"burger\", \"sandwich\", \"kebab\", \"fries\", \"donut\"]}\n      indexBy=\"tag\"\n      margin={{ top: 50, right: 130, bottom: 50, left: 150 }}\n      padding={0.3}\n      colors={{ scheme: \"nivo\" }}\n      defs={[\n        {\n          id: \"dots\",\n          type: \"patternDots\",\n          background: \"inherit\",\n          color: \"#38bcb2\",\n          size: 4,\n          padding: 1,\n          stagger: true,\n        },\n        {\n          id: \"lines\",\n          type: \"patternLines\",\n          background: \"inherit\",\n          color: \"#eed312\",\n          rotation: -45,\n          lineWidth: 6,\n          spacing: 10,\n        },\n      ]}\n      fill={[\n        {\n          match: {\n            id: \"fries\",\n          },\n          id: \"dots\",\n        },\n        {\n          match: {\n            id: \"sandwich\",\n          },\n          id: \"lines\",\n        },\n      ]}\n      borderColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n      axisTop={null}\n      axisRight={null}\n      axisBottom={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"Income ($)\",\n        legendPosition: \"middle\",\n        legendOffset: 32,\n      }}\n      axisLeft={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"\",\n        legendPosition: \"middle\",\n        legendOffset: -40,\n      }}\n      labelSkipWidth={12}\n      labelSkipHeight={12}\n      labelTextColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n      legends={[\n        {\n          dataFrom: \"keys\",\n          anchor: \"bottom-right\",\n          direction: \"column\",\n          justify: false,\n          translateX: 120,\n          translateY: 0,\n          itemsSpacing: 2,\n          itemWidth: 100,\n          itemHeight: 20,\n          itemDirection: \"left-to-right\",\n          itemOpacity: 0.85,\n          symbolSize: 20,\n          effects: [\n            {\n              on: \"hover\",\n              style: {\n                itemOpacity: 1,\n              },\n            },\n          ],\n        },\n      ]}\n      animate={true}\n      motionStiffness={90}\n      motionDamping={15}\n    />\n  );\n};\n\nexport default RenderIncomeByTag;\n\n// make sure parent container have a defined height when using\n// responsive component, otherwise height will be 0 and\n// no chart will be rendered.\n// website examples showcase many properties,\n// you'll often use just a few of them.\n","const getCommission = (category, specifiedCommissions) => {\n  //returns commission as decimal e.g. 1% == 0.01\n  const defaultCommissionList = [\n    { category: \"Amazon Fashion Private Brands\", commission: 0.04 },\n    { category: \"Amazon Pantry\", commission: 0.03 },\n    { category: \"Beauty & Grooming\", commission: 0.03 },\n    { category: \"Business & Industrial Supplies\", commission: 0.03 },\n    //{ category: \"Cell Phones & Accessories\", commission: 0.4 },\n    { category: \"Echo & Alexa Accessories\", commission: 0.04 },\n    { category: \"Fire Tablets\", commission: 0.04 },\n    { category: \"Fire TV Devices\", commission: 0.04 },\n    { category: \"Health & Household\", commission: 0.01 },\n    { category: \"Home Entertainment\", commission: 0.03 },\n    // { category: \"Kindle Books\", commission: 0.04 },\n    { category: \"Luggage\", commission: 0.04 },\n    { category: \"Musical Instruments\", commission: 0.03 },\n    { category: \"Other Gift Card Brands\", commission: 0.0 },\n    { category: \"Pet Food & Supplies\", commission: 0.03 },\n    { category: \"Ring Alarms and Smart Lighting\", commission: 0.04 },\n    // { category: \"Software Download\", commission: 0.04 },\n    { category: \"Video Games\", commission: 0.01 },\n    { category: \"Amazon Fresh Products\", commission: 0.01 },\n    { category: \"Automotive\", commission: 0.045 },\n    { category: \"Blu-Ray & DVD\", commission: 0.025 },\n    // { category: \"Camera, Photo & Video\", commission: 0.04 },\n\n    { category: \"Electronic Components & Home Audio\", commission: 0.025 },\n    { category: \"Home\", commission: 0.03 },\n    { category: \"Furniture\", commission: 0.03 },\n    { category: \"Computers, Tablets & Components\", commission: 0.025 },\n    { category: \"Sports & Fitness\", commission: 0.03 },\n    { category: \"Books & Textbooks\", commission: 0.045 },\n  ];\n  //return specifiedCommission if it exists\n  if (specifiedCommissions.length) {\n    // console.log(\n    //   \"specifiedCommissions at getCommission: \",\n    //   specifiedCommissions\n    // );\n\n    const specCommissionIndex = specifiedCommissions.findIndex(\n      (e) => category === e.category\n    );\n    if (specCommissionIndex !== -1) {\n      // console.log(\"helloo\");\n      return Number(specifiedCommissions[specCommissionIndex].commission);\n    }\n  }\n  //otherwise take from defaults\n  const commissionIndex = defaultCommissionList.findIndex(\n    (e) => category === e.category\n  );\n  //return false if no value avail\n  if (commissionIndex === -1) {\n    return 0.04;\n  } else {\n    // return computed value\n    const commission = defaultCommissionList[commissionIndex].commission;\n    return Number(commission);\n  }\n};\n\nexport default getCommission;\n","import getCommission from \"./getCommission\";\n\nconst incomeByTag = (data, specifiedCommissions, top10) => {\n  let tagTotals = [];\n\n  if (!data.data) {\n    throw Error(\"No Data\");\n  }\n  //iterate through each data point\n  for (let item of data.data) {\n    let itemIndex = tagTotals.findIndex((e) => e.tag === item.tag);\n    let lineCost = Number(item.qty) * Number(item[\"price($)\"]);\n    //add tag if unique\n    if (itemIndex === -1) {\n      tagTotals.push({\n        tag: item.tag,\n        sales: lineCost,\n        income: Number(\n          getCommission(item.category, specifiedCommissions) * lineCost\n        ),\n        tabletIncome:\n          item.deviceTypeGroup === \"TABLET\"\n            ? getCommission(item.category, specifiedCommissions) * lineCost\n            : 0,\n        desktopIncome:\n          item.deviceTypeGroup === \"DESKTOP\"\n            ? getCommission(item.category, specifiedCommissions) * lineCost\n            : 0,\n        phoneIncome:\n          item.deviceTypeGroup === \"PHONE\"\n            ? getCommission(item.category, specifiedCommissions) * lineCost\n            : 0,\n      });\n    } else {\n      // update tag total\n      tagTotals[itemIndex].sales += lineCost;\n      tagTotals[itemIndex].income += Number(\n        getCommission(item.category, specifiedCommissions) * lineCost\n      );\n      tagTotals[itemIndex].tabletIncome +=\n        item.deviceTypeGroup === \"TABLET\"\n          ? getCommission(item.category, specifiedCommissions) * lineCost\n          : 0;\n      tagTotals[itemIndex].desktopIncome +=\n        item.deviceTypeGroup === \"DESKTOP\"\n          ? getCommission(item.category, specifiedCommissions) * lineCost\n          : 0;\n      tagTotals[itemIndex].phoneIncome +=\n        item.deviceTypeGroup === \"PHONE\"\n          ? getCommission(item.category, specifiedCommissions) * lineCost\n          : 0;\n    }\n  }\n  //round all numbers to nearest cent\n  for (let tag of tagTotals) {\n    if (tag.sales) {\n      // console.log(typeof tag.sales);\n      tag.sales = Number(tag.sales.toFixed(2));\n      // console.log(typeof tag.sales);\n    }\n    if (tag.income) {\n      // console.log(tag.income);\n\n      tag.income = Number(tag.income.toFixed(2));\n      // console.log(tag.income);\n    }\n    if (tag.tabletIncome) {\n      tag.tabletIncome = Number(tag.tabletIncome.toFixed(2));\n    }\n    if (tag.desktopIncome) {\n      tag.desktopIncome = Number(tag.desktopIncome.toFixed(2));\n    }\n    if (tag.phoneIncome) {\n      tag.phoneIncome = Number(tag.phoneIncome.toFixed(2));\n    }\n  }\n  //sort it all!\n  tagTotals = tagTotals.sort((a, b) => {\n    if (a.income > b.income) {\n      return -1;\n    } else if (a.income < b.income) {\n      return 1;\n    }\n    return 0;\n  });\n  // console.log(top10);\n  //reduce to top 10\n  if (top10 && tagTotals.length > 10) {\n    // console.log(\"before slice \", tagTotals);\n    tagTotals = tagTotals.slice(0, 9);\n    // console.log(\"after slice \", tagTotals);\n  }\n\n  return tagTotals;\n};\n\nexport default incomeByTag;\n","import XLSX from \"xlsx\";\n// import { readFile } from \"react-native-fs\";\n\n// const file = \"../resources/exampleUSASales.xlsx\";\n/* read a workbook */\nconst arrayToJsObj = (data) => {\n  if (data[1].length !== 10) {\n    throw Error(\"Sheet is not compatible\");\n  }\n  const feb2020Headers = [\n    \"Category\",\n    \"Name\",\n    \"ASIN\",\n    \"Date\",\n    \"Qty\",\n    \"Price($)\",\n    \"Link Type\",\n    \"Tag\",\n    \"Indirect Sales\",\n    \"Device Type Group\",\n  ];\n\n  for (let i in feb2020Headers) {\n    if (feb2020Headers[i] !== data[1][i]) {\n      throw Error(\"Data values not recognised\");\n    }\n  }\n\n  let jsObjData = { name: data[0][0], data: [] };\n\n  for (let i = 2; i < data.length; i++) {\n    let row = data[i];\n    jsObjData.data.push({\n      category: row[0],\n      name: row[1],\n      asin: row[2],\n      date: row[3],\n      qty: row[4],\n      \"price($)\": row[5],\n      linkType: row[6],\n      tag: row[7],\n      indirectSales: row[8],\n      deviceTypeGroup: row[9],\n    });\n  }\n\n  return jsObjData;\n};\n\nconst xlsxImporter = (e) => {\n  let file = e.target.files[0];\n\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = (event) => {\n      // call 'xlsx' to read the file\n      let workbook = XLSX.read(event.target.result, { type: \"binary\" });\n      /* convert from workbook to array of arrays */\n      var first_worksheet = workbook.Sheets[workbook.SheetNames[0]];\n      const data = XLSX.utils.sheet_to_json(first_worksheet, { header: 1 });\n\n      // console.log(data);\n      resolve(arrayToJsObj(data));\n    };\n    reader.onerror = (e) => {\n      console.log(e);\n    };\n    reader.readAsBinaryString(file);\n  });\n};\n\nexport default xlsxImporter;\n","import getCommission from \"./getCommission\";\n\nconst incomeByCategory = (data, specifiedCommissions, top10) => {\n  let categoryTotals = [];\n\n  if (!data.data) {\n    throw Error(\"No Data\");\n  }\n  //iterate through each data point\n  for (let item of data.data) {\n    let itemIndex = categoryTotals.findIndex(\n      (e) => e.category === item.category\n    );\n    let lineCost = Number(item.qty) * Number(item[\"price($)\"]);\n    //add tag if unique\n    if (itemIndex === -1) {\n      categoryTotals.push({\n        category: item.category,\n        sales: lineCost,\n        income: Number(\n          getCommission(item.category, specifiedCommissions) * lineCost\n        ),\n        tabletIncome:\n          item.deviceTypeGroup === \"TABLET\"\n            ? getCommission(item.category, specifiedCommissions) * lineCost\n            : 0,\n        desktopIncome:\n          item.deviceTypeGroup === \"DESKTOP\"\n            ? getCommission(item.category, specifiedCommissions) * lineCost\n            : 0,\n        phoneIncome:\n          item.deviceTypeGroup === \"PHONE\"\n            ? getCommission(item.category, specifiedCommissions) * lineCost\n            : 0,\n      });\n    } else {\n      // update tag total\n      categoryTotals[itemIndex].sales += lineCost;\n      categoryTotals[itemIndex].income += Number(\n        getCommission(item.category, specifiedCommissions) * lineCost\n      );\n      categoryTotals[itemIndex].tabletIncome +=\n        item.deviceTypeGroup === \"TABLET\"\n          ? getCommission(item.category, specifiedCommissions) * lineCost\n          : 0;\n      categoryTotals[itemIndex].desktopIncome +=\n        item.deviceTypeGroup === \"DESKTOP\"\n          ? getCommission(item.category, specifiedCommissions) * lineCost\n          : 0;\n      categoryTotals[itemIndex].phoneIncome +=\n        item.deviceTypeGroup === \"PHONE\"\n          ? getCommission(item.category, specifiedCommissions) * lineCost\n          : 0;\n    }\n  }\n  //round all numbers to nearest cent\n  for (let category of categoryTotals) {\n    if (category.sales) {\n      // console.log(typeof tag.sales);\n      category.sales = Number(category.sales.toFixed(2));\n      // console.log(typeof tag.sales);\n    }\n    if (category.income) {\n      // console.log(tag.income);\n\n      category.income = Number(category.income.toFixed(2));\n      // console.log(tag.income);\n    }\n    if (category.tabletIncome) {\n      category.tabletIncome = Number(category.tabletIncome.toFixed(2));\n    }\n    if (category.desktopIncome) {\n      category.desktopIncome = Number(category.desktopIncome.toFixed(2));\n    }\n    if (category.phoneIncome) {\n      category.phoneIncome = Number(category.phoneIncome.toFixed(2));\n    }\n  }\n  //sort it all!\n  categoryTotals = categoryTotals.sort((a, b) => {\n    if (a.income > b.income) {\n      return -1;\n    } else if (a.income < b.income) {\n      return 1;\n    }\n    return 0;\n  });\n\n  //reduce to top 10\n  if (top10 && categoryTotals.length > 10) {\n    // console.log(\"before slice \", tagTotals);\n    categoryTotals = categoryTotals.slice(0, 9);\n    // console.log(\"after slice \", tagTotals);\n  }\n\n  return categoryTotals;\n};\n\nexport default incomeByCategory;\n","import React, { useState } from \"react\";\nimport getCommission from \"../functions/getCommission\";\nimport incomeByCategory from \"../functions/incomeByCategory\";\n\nfunction CommissionTable(props) {\n  const [commissions, setCommissions] = useState([]);\n\n  const updateCommissions = (jsObjData) => {\n    let categoriesArray = incomeByCategory(\n      jsObjData,\n      props.specifiedCommissions,\n      props.top10\n    );\n\n    let commissionTable = [];\n    // if (data[1][0] !== \"Category\") {\n    //   throw Error(\"document not formatted as expected (update Commissions)\");\n    // }\n    //console.log(\"updateCommissions\", jsObjData);\n    for (let obj of categoriesArray) {\n      commissionTable.push({\n        category: obj.category,\n        commission: getCommission(obj.category, props.specifiedCommissions),\n      });\n    }\n\n    commissionTable.sort((a, b) => a.category.localeCompare(b.category));\n    // for row in data,\n    // if category not already logged\n    // add category and getCommission\n    if (commissionTable.length !== commissions.length) {\n      setCommissions(commissionTable);\n    } else {\n      for (let i in commissionTable) {\n        if (commissionTable[i].category !== commissions[i].category) {\n          setCommissions(commissionTable);\n        }\n      }\n    }\n  };\n\n  if (!props.data) {\n    return null;\n  } else {\n    updateCommissions(props.data);\n  }\n\n  const handleCommissionChange = (event) => {\n    let category = event.target.dataset.category;\n    let value = event.target.value;\n    props.onCommissionChange(category, value);\n  };\n\n  let listCategories = [];\n  //console.log(\"commissionTable\", categories);\n  for (let item of commissions) {\n    listCategories.push(\n      <div className=\"category\">\n        <div className=\"category-name\">{item.category}</div>\n        <div>\n          <input\n            type=\"number\"\n            data-category={item.category}\n            onChange={handleCommissionChange}\n            className=\"commission-input\"\n            defaultValue={100 * Number(item.commission)}\n          />\n        </div>\n      </div>\n    );\n  }\n  return <div className=\"category-table\">{listCategories}</div>;\n}\nexport default CommissionTable;\n","import { ResponsiveBar } from \"@nivo/bar\";\nimport React from \"react\";\nimport { useTheme } from \"@nivo/core\";\n\nconst RenderIncomeByCategory = (props) => {\n  return (\n    <ResponsiveBar\n      // axisLeft={{\n      //   renderTick: CustomTick,\n      // }}\n      layout=\"horizontal\"\n      groupMode=\"stacked\"\n      data={props.totalsByCategory}\n      keys={[\"tabletIncome\", \"phoneIncome\", \"desktopIncome\"]}\n      //   keys={[\"hot dog\", \"burger\", \"sandwich\", \"kebab\", \"fries\", \"donut\"]}\n      indexBy=\"category\"\n      margin={{ top: 50, right: 150, bottom: 50, left: 230 }}\n      padding={0.3}\n      colors={{ scheme: \"nivo\" }}\n      defs={[\n        {\n          id: \"dots\",\n          type: \"patternDots\",\n          background: \"inherit\",\n          color: \"#38bcb2\",\n          size: 4,\n          padding: 1,\n          stagger: true,\n        },\n        {\n          id: \"lines\",\n          type: \"patternLines\",\n          background: \"inherit\",\n          color: \"#eed312\",\n          rotation: -45,\n          lineWidth: 6,\n          spacing: 10,\n        },\n      ]}\n      fill={[\n        {\n          match: {\n            id: \"fries\",\n          },\n          id: \"dots\",\n        },\n        {\n          match: {\n            id: \"sandwich\",\n          },\n          id: \"lines\",\n        },\n      ]}\n      borderColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n      axisTop={null}\n      axisRight={null}\n      axisBottom={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"Income ($)\",\n        legendPosition: \"middle\",\n        legendOffset: 32,\n      }}\n      axisLeft={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"\",\n        legendPosition: \"middle\",\n        legendOffset: -40,\n      }}\n      labelSkipWidth={12}\n      labelSkipHeight={12}\n      labelTextColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n      legends={[\n        {\n          dataFrom: \"keys\",\n          anchor: \"bottom-right\",\n          direction: \"column\",\n          justify: false,\n          translateX: 120,\n          translateY: 0,\n          itemsSpacing: 2,\n          itemWidth: 100,\n          itemHeight: 20,\n          itemDirection: \"left-to-right\",\n          itemOpacity: 0.85,\n          symbolSize: 20,\n          effects: [\n            {\n              on: \"hover\",\n              style: {\n                itemOpacity: 1,\n              },\n            },\n          ],\n        },\n      ]}\n      animate={true}\n      motionStiffness={90}\n      motionDamping={15}\n    />\n  );\n};\n\nexport default RenderIncomeByCategory;\n\n// make sure parent container have a defined height when using\n// responsive component, otherwise height will be 0 and\n// no chart will be rendered.\n// website examples showcase many properties,\n// you'll often use just a few of them.\n","import { ResponsiveBar } from \"@nivo/bar\";\nimport React from \"react\";\nimport { useTheme } from \"@nivo/core\";\n\nconst RenderIncomeByDevice = (props) => {\n  return (\n    <ResponsiveBar\n      // axisLeft={{\n      //   renderTick: CustomTick,\n      // }}\n      layout=\"horizontal\"\n      groupMode=\"stacked\"\n      data={props.totalsByDevice}\n      keys={[\"income\"]}\n      //   keys={[\"hot dog\", \"burger\", \"sandwich\", \"kebab\", \"fries\", \"donut\"]}\n      indexBy=\"deviceTypeGroup\"\n      margin={{ top: 50, right: 150, bottom: 50, left: 230 }}\n      padding={0.3}\n      colors={{ scheme: \"nivo\" }}\n      defs={[\n        {\n          id: \"dots\",\n          type: \"patternDots\",\n          background: \"inherit\",\n          color: \"#38bcb2\",\n          size: 4,\n          padding: 1,\n          stagger: true,\n        },\n        {\n          id: \"lines\",\n          type: \"patternLines\",\n          background: \"inherit\",\n          color: \"#eed312\",\n          rotation: -45,\n          lineWidth: 6,\n          spacing: 10,\n        },\n      ]}\n      fill={[\n        {\n          match: {\n            id: \"fries\",\n          },\n          id: \"dots\",\n        },\n        {\n          match: {\n            id: \"sandwich\",\n          },\n          id: \"lines\",\n        },\n      ]}\n      borderColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n      axisTop={null}\n      axisRight={null}\n      axisBottom={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"Income ($)\",\n        legendPosition: \"middle\",\n        legendOffset: 32,\n      }}\n      axisLeft={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"\",\n        legendPosition: \"middle\",\n        legendOffset: -40,\n      }}\n      labelSkipWidth={12}\n      labelSkipHeight={12}\n      labelTextColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n      legends={[\n        {\n          dataFrom: \"keys\",\n          anchor: \"bottom-right\",\n          direction: \"column\",\n          justify: false,\n          translateX: 120,\n          translateY: 0,\n          itemsSpacing: 2,\n          itemWidth: 100,\n          itemHeight: 20,\n          itemDirection: \"left-to-right\",\n          itemOpacity: 0.85,\n          symbolSize: 20,\n          effects: [\n            {\n              on: \"hover\",\n              style: {\n                itemOpacity: 1,\n              },\n            },\n          ],\n        },\n      ]}\n      animate={true}\n      motionStiffness={90}\n      motionDamping={15}\n    />\n  );\n};\n\nexport default RenderIncomeByDevice;\n\n// make sure parent container have a defined height when using\n// responsive component, otherwise height will be 0 and\n// no chart will be rendered.\n// website examples showcase many properties,\n// you'll often use just a few of them.\n","import getCommission from \"./getCommission\";\n\nconst incomeByDevice = (data, specifiedCommissions, top10) => {\n  let deviceTotals = [];\n\n  if (!data.data) {\n    throw Error(\"No Data\");\n  }\n  //iterate through each data point\n  for (let item of data.data) {\n    let itemIndex = deviceTotals.findIndex(\n      (e) => e.deviceTypeGroup === item.deviceTypeGroup\n    );\n    let lineCost = Number(item.qty) * Number(item[\"price($)\"]);\n    //add device if unique\n    if (itemIndex === -1) {\n      deviceTotals.push({\n        deviceTypeGroup: item.deviceTypeGroup,\n        sales: lineCost,\n        income: Number(\n          getCommission(item.category, specifiedCommissions) * lineCost\n        ),\n      });\n    } else {\n      // update device total\n      deviceTotals[itemIndex].sales += lineCost;\n      deviceTotals[itemIndex].income += Number(\n        getCommission(item.category, specifiedCommissions) * lineCost\n      );\n    }\n  }\n  //round all numbers to nearest cent\n  for (let device of deviceTotals) {\n    if (device.sales) {\n      // console.log(typeof tag.sales);\n      device.sales = Number(device.sales.toFixed(2));\n      // console.log(typeof tag.sales);\n    }\n    if (device.income) {\n      // console.log(tag.income);\n\n      device.income = Number(device.income.toFixed(2));\n      // console.log(tag.income);\n    }\n  }\n  //sort it all!\n  deviceTotals = deviceTotals.sort((a, b) => {\n    if (a.income > b.income) {\n      return -1;\n    } else if (a.income < b.income) {\n      return 1;\n    }\n    return 0;\n  });\n\n  //   //reduce to top 10\n  //   if (top10 && categoryTotals.length > 10) {\n  //     // console.log(\"before slice \", tagTotals);\n  //     categoryTotals = categoryTotals.slice(0, 9);\n  //     // console.log(\"after slice \", tagTotals);\n  //   }\n\n  return deviceTotals;\n};\n\nexport default incomeByDevice;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport RenderIncomeByTag from \"./renderers/renderIncomeByTag\";\nimport incomeByTag from \"./functions/incomeByTag\";\nimport exampleJsonObj from \"./resources/exampleJsonObj\";\nimport XLSX from \"xlsx\";\nimport xlsxImporter from \"./functions/xlsxImporter\";\nimport CommissionTable from \"./renderers/commissionTable\";\nimport getCommission from \"./functions/getCommission\";\nimport incomeByCategory from \"./functions/incomeByCategory\";\nimport RenderIncomeByCategory from \"./renderers/renderIncomeByCategory\";\nimport RenderIncomeByDevice from \"./renderers/renderIncomeByDevice\";\nimport incomeByDevice from \"./functions/incomeByDevice\";\n\nfunction App() {\n  const [jsObjData, setJsObjData] = useState(false);\n  const [specifiedCommissions, setSpecifiedCommissions] = useState([]);\n  const [top10, setTop10] = useState(true);\n  const handleFileInput = async (e) => {\n    try {\n      const data = await xlsxImporter(e);\n      console.log(data);\n      setJsObjData(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  let incomeByTagChart = \"\";\n  let incomeByCategoryChart = \"\";\n  let incomeByDeviceChart = \"\";\n  if (jsObjData.data) {\n    incomeByTagChart = (\n      <RenderIncomeByTag\n        totalsByTag={incomeByTag(jsObjData, specifiedCommissions, top10)}\n      />\n    );\n    incomeByCategoryChart = (\n      <RenderIncomeByCategory\n        totalsByCategory={incomeByCategory(\n          jsObjData,\n          specifiedCommissions,\n          top10\n        )}\n        top10={top10}\n      />\n    );\n    incomeByDeviceChart = (\n      <RenderIncomeByDevice\n        totalsByDevice={incomeByDevice(jsObjData, specifiedCommissions, top10)}\n      />\n    );\n  }\n\n  const handleTop10Click = (event) => {\n    setTop10(!top10);\n  };\n\n  const handleCommissionChange = (category, value) => {\n    console.log(\"chaaaanging\", value);\n    let index = specifiedCommissions.findIndex(\n      (item) => item.category === category\n    );\n    if (index === -1) {\n      setSpecifiedCommissions(\n        specifiedCommissions.concat({\n          category: category,\n          commission: Number((value / 100).toFixed(2)),\n        })\n      );\n    } else {\n      let newCommissions = [...specifiedCommissions];\n      newCommissions[index].commission = Number((value / 100).toFixed(2));\n      setSpecifiedCommissions(newCommissions);\n    }\n  };\n  // if (!specifiedCommissions.length) {\n  //   handleCommissionChange();\n  // }\n  console.log(\"The Specified Commissions are: \", specifiedCommissions);\n  return (\n    <div className=\"App\">\n      <input\n        type=\"file\"\n        id=\"file-selector\"\n        accept=\".xlsx\"\n        onChange={handleFileInput}\n      ></input>\n      <div>\n        Display top 10 only{\" \"}\n        <input type=\"checkbox\" checked={top10} onClick={handleTop10Click} />{\" \"}\n      </div>\n      <CommissionTable\n        data={jsObjData}\n        specifiedCommissions={specifiedCommissions}\n        onCommissionChange={handleCommissionChange}\n        top10={top10}\n      />\n      <div className=\"device-chart\">{incomeByDeviceChart}</div>\n\n      <div className=\"category-chart\">{incomeByCategoryChart}</div>\n      <div className=\"tag-chart\">{incomeByTagChart}</div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}