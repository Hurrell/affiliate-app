(this["webpackJsonpaffiliate-app"]=this["webpackJsonpaffiliate-app"]||[]).push([[0],{189:function(e,t){},234:function(e,t,o){e.exports=o(382)},239:function(e,t,o){},241:function(e,t,o){},380:function(e,t){},381:function(e,t){},382:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),i=o(190),r=o.n(i),c=(o(239),o(200)),s=o(120),m=o.n(s),l=o(191),d=o(14),u=(o(241),o(81)),g=(o(5),function(e){return a.a.createElement(u.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByTag,keys:["tabletIncome","phoneIncome","desktopIncome"],indexBy:"tag",margin:{top:50,right:130,bottom:50,left:150},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})}),p=o(19),y=function(e,t){var o=[{category:"Amazon Fashion Private Brands",commission:.04},{category:"Amazon Pantry",commission:.03},{category:"Beauty & Grooming",commission:.03},{category:"Business & Industrial Supplies",commission:.03},{category:"Echo & Alexa Accessories",commission:.04},{category:"Fire Tablets",commission:.04},{category:"Fire TV Devices",commission:.04},{category:"Health & Household",commission:.01},{category:"Home Entertainment",commission:.03},{category:"Luggage",commission:.04},{category:"Musical Instruments",commission:.03},{category:"Other Gift Card Brands",commission:0},{category:"Pet Food & Supplies",commission:.03},{category:"Ring Alarms and Smart Lighting",commission:.04},{category:"Video Games",commission:.01},{category:"Amazon Fresh Products",commission:.01},{category:"Automotive",commission:.045},{category:"Blu-Ray & DVD",commission:.025},{category:"Electronic Components & Home Audio",commission:.025},{category:"Home",commission:.03},{category:"Furniture",commission:.03},{category:"Computers, Tablets & Components",commission:.025},{category:"Sports & Fitness",commission:.03},{category:"Books & Textbooks",commission:.045}];if(t.length){var n=t.findIndex((function(t){return e===t.category}));if(-1!==n)return Number(t[n].commission)}var a=o.findIndex((function(t){return e===t.category}));if(-1===a)return.04;var i=o[a].commission;return Number(i)},f=function(e,t,o){var n=[];if(!e.data)throw Error("No Data");var a,i=Object(p.a)(e.data);try{var r=function(){var e=a.value,o=n.findIndex((function(t){return t.tag===e.tag})),i=Number(e.qty)*Number(e["price($)"]);-1===o?n.push({tag:e.tag,sales:i,income:Number(y(e.category,t)*i),tabletIncome:"TABLET"===e.deviceTypeGroup?y(e.category,t)*i:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?y(e.category,t)*i:0,phoneIncome:"PHONE"===e.deviceTypeGroup?y(e.category,t)*i:0}):(n[o].sales+=i,n[o].income+=Number(y(e.category,t)*i),n[o].tabletIncome+="TABLET"===e.deviceTypeGroup?y(e.category,t)*i:0,n[o].desktopIncome+="DESKTOP"===e.deviceTypeGroup?y(e.category,t)*i:0,n[o].phoneIncome+="PHONE"===e.deviceTypeGroup?y(e.category,t)*i:0)};for(i.s();!(a=i.n()).done;)r()}catch(l){i.e(l)}finally{i.f()}var c,s=Object(p.a)(n);try{for(s.s();!(c=s.n()).done;){var m=c.value;m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2))),m.tabletIncome&&(m.tabletIncome=Number(m.tabletIncome.toFixed(2))),m.desktopIncome&&(m.desktopIncome=Number(m.desktopIncome.toFixed(2))),m.phoneIncome&&(m.phoneIncome=Number(m.phoneIncome.toFixed(2)))}}catch(l){s.e(l)}finally{s.f()}return n=n.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0})),o&&n.length>10&&(n=n.slice(0,9)),n},h=o(82),b=o.n(h),v=function(e){var t=e.target.files[0];return new Promise((function(e,o){var n=new FileReader;n.onload=function(t){var o=b.a.read(t.target.result,{type:"binary"}),n=o.Sheets[o.SheetNames[0]],a=b.a.utils.sheet_to_json(n,{header:1});e(function(e){if(10!==e[1].length)throw Error("Sheet is not compatible");var t=["Category","Name","ASIN","Date","Qty","Price($)","Link Type","Tag","Indirect Sales","Device Type Group"];for(var o in t)if(t[o]!==e[1][o])throw Error("Data values not recognised");for(var n={name:e[0][0],data:[]},a=2;a<e.length;a++){var i=e[a];n.data.push({category:i[0],name:i[1],asin:i[2],date:i[3],qty:i[4],"price($)":i[5],linkType:i[6],tag:i[7],indirectSales:i[8],deviceTypeGroup:i[9]})}return n}(a))},n.onerror=function(e){console.log(e)},n.readAsBinaryString(t)}))},k=function(e,t,o){var n=[];if(!e.data)throw Error("No Data");var a,i=Object(p.a)(e.data);try{var r=function(){var e=a.value,o=n.findIndex((function(t){return t.category===e.category})),i=Number(e.qty)*Number(e["price($)"]);-1===o?n.push({category:e.category,sales:i,income:Number(y(e.category,t)*i),tabletIncome:"TABLET"===e.deviceTypeGroup?y(e.category,t)*i:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?y(e.category,t)*i:0,phoneIncome:"PHONE"===e.deviceTypeGroup?y(e.category,t)*i:0}):(n[o].sales+=i,n[o].income+=Number(y(e.category,t)*i),n[o].tabletIncome+="TABLET"===e.deviceTypeGroup?y(e.category,t)*i:0,n[o].desktopIncome+="DESKTOP"===e.deviceTypeGroup?y(e.category,t)*i:0,n[o].phoneIncome+="PHONE"===e.deviceTypeGroup?y(e.category,t)*i:0)};for(i.s();!(a=i.n()).done;)r()}catch(l){i.e(l)}finally{i.f()}var c,s=Object(p.a)(n);try{for(s.s();!(c=s.n()).done;){var m=c.value;m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2))),m.tabletIncome&&(m.tabletIncome=Number(m.tabletIncome.toFixed(2))),m.desktopIncome&&(m.desktopIncome=Number(m.desktopIncome.toFixed(2))),m.phoneIncome&&(m.phoneIncome=Number(m.phoneIncome.toFixed(2)))}}catch(l){s.e(l)}finally{s.f()}return n=n.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0})),o&&n.length>10&&(n=n.slice(0,9)),n};var I=function(e){var t=Object(n.useState)([]),o=Object(d.a)(t,2),i=o[0],r=o[1];if(!e.data)return null;!function(t){var o,n=k(t,e.specifiedCommissions,e.top10),a=[],c=Object(p.a)(n);try{for(c.s();!(o=c.n()).done;){var s=o.value;a.push({category:s.category,commission:y(s.category,e.specifiedCommissions)})}}catch(l){c.e(l)}finally{c.f()}if(a.sort((function(e,t){return e.category.localeCompare(t.category)})),a.length!==i.length)r(a);else for(var m in a)a[m].category!==i[m].category&&r(a)}(e.data);var c,s=function(t){var o=t.target.dataset.category,n=t.target.value;e.onCommissionChange(o,n)},m=[],l=Object(p.a)(i);try{for(l.s();!(c=l.n()).done;){var u=c.value;m.push(a.a.createElement("div",{className:"category"},a.a.createElement("div",{className:"category-name"},u.category),a.a.createElement("div",null,a.a.createElement("input",{type:"number","data-category":u.category,onChange:s,className:"commission-input",defaultValue:100*Number(u.commission)}))))}}catch(g){l.e(g)}finally{l.f()}return a.a.createElement("div",{className:"category-table"},m)},T=function(e){return a.a.createElement(u.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByCategory,keys:["tabletIncome","phoneIncome","desktopIncome"],indexBy:"category",margin:{top:50,right:150,bottom:50,left:230},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})};var E=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),o=t[0],i=t[1],r=Object(n.useState)([]),s=Object(d.a)(r,2),u=s[0],p=s[1],y=Object(n.useState)(!0),h=Object(d.a)(y,2),b=h[0],E=h[1],N=function(){var e=Object(l.a)(m.a.mark((function e(t){var o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:o=e.sent,console.log(o),i(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x="",S="";return o.data&&(x=a.a.createElement(g,{totalsByTag:f(o,u,b)}),S=a.a.createElement(T,{totalsByCategory:k(o,u,b),top10:b})),console.log("The Specified Commissions are: ",u),a.a.createElement("div",{className:"App"},a.a.createElement("input",{type:"file",id:"file-selector",accept:".xlsx",onChange:N}),a.a.createElement("div",null,"Display top 10 only"," ",a.a.createElement("input",{type:"checkbox",checked:b,onClick:function(e){E(!b)}})," "),a.a.createElement(I,{data:o,specifiedCommissions:u,onCommissionChange:function(e,t){console.log("chaaaanging",t);var o=u.findIndex((function(t){return t.category===e}));if(-1===o)p(u.concat({category:e,commission:Number((t/100).toFixed(2))}));else{var n=Object(c.a)(u);n[o].category=t,p(n)}},top10:b}),a.a.createElement("div",{className:"category-chart"},S),a.a.createElement("div",{className:"tag-chart"},x))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[234,1,2]]]);
//# sourceMappingURL=main.3014c373.chunk.js.map