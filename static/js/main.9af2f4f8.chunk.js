(this["webpackJsonpaffiliate-app"]=this["webpackJsonpaffiliate-app"]||[]).push([[0],{189:function(e,t){},234:function(e,t,o){e.exports=o(382)},239:function(e,t,o){},241:function(e,t,o){},380:function(e,t){},381:function(e,t){},382:function(e,t,o){"use strict";o.r(t);var i=o(1),n=o.n(i),a=o(190),r=o.n(a),c=(o(239),o(200)),s=o(120),m=o.n(s),l=o(191),d=o(14),u=(o(241),o(48)),g=(o(4),function(e){return n.a.createElement(u.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByTag,keys:["tabletIncome","phoneIncome","desktopIncome"],indexBy:"tag",margin:{top:50,right:130,bottom:50,left:150},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})}),p=o(16),y=function(e,t){var o=[{category:"Amazon Fashion Private Brands",commission:.04},{category:"Amazon Pantry",commission:.03},{category:"Beauty & Grooming",commission:.03},{category:"Business & Industrial Supplies",commission:.03},{category:"Echo & Alexa Accessories",commission:.04},{category:"Fire Tablets",commission:.04},{category:"Fire TV Devices",commission:.04},{category:"Health & Household",commission:.01},{category:"Home Entertainment",commission:.03},{category:"Luggage",commission:.04},{category:"Musical Instruments",commission:.03},{category:"Other Gift Card Brands",commission:0},{category:"Pet Food & Supplies",commission:.03},{category:"Ring Alarms and Smart Lighting",commission:.04},{category:"Video Games",commission:.01},{category:"Amazon Fresh Products",commission:.01},{category:"Automotive",commission:.045},{category:"Blu-Ray & DVD",commission:.025},{category:"Electronic Components & Home Audio",commission:.025},{category:"Home",commission:.03},{category:"Furniture",commission:.03},{category:"Computers, Tablets & Components",commission:.025},{category:"Sports & Fitness",commission:.03},{category:"Books & Textbooks",commission:.045}];if(t.length){var i=t.findIndex((function(t){return e===t.category}));if(-1!==i)return Number(t[i].commission)}var n=o.findIndex((function(t){return e===t.category}));if(-1===n)return.04;var a=o[n].commission;return Number(a)},f=function(e,t,o){var i=[];if(!e.data)throw Error("No Data");var n,a=Object(p.a)(e.data);try{var r=function(){var e=n.value,o=i.findIndex((function(t){return t.tag===e.tag})),a=Number(e.qty)*Number(e["price($)"]);-1===o?i.push({tag:e.tag,sales:a,income:Number(y(e.category,t)*a),tabletIncome:"TABLET"===e.deviceTypeGroup?y(e.category,t)*a:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?y(e.category,t)*a:0,phoneIncome:"PHONE"===e.deviceTypeGroup?y(e.category,t)*a:0}):(i[o].sales+=a,i[o].income+=Number(y(e.category,t)*a),i[o].tabletIncome+="TABLET"===e.deviceTypeGroup?y(e.category,t)*a:0,i[o].desktopIncome+="DESKTOP"===e.deviceTypeGroup?y(e.category,t)*a:0,i[o].phoneIncome+="PHONE"===e.deviceTypeGroup?y(e.category,t)*a:0)};for(a.s();!(n=a.n()).done;)r()}catch(l){a.e(l)}finally{a.f()}var c,s=Object(p.a)(i);try{for(s.s();!(c=s.n()).done;){var m=c.value;m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2))),m.tabletIncome&&(m.tabletIncome=Number(m.tabletIncome.toFixed(2))),m.desktopIncome&&(m.desktopIncome=Number(m.desktopIncome.toFixed(2))),m.phoneIncome&&(m.phoneIncome=Number(m.phoneIncome.toFixed(2)))}}catch(l){s.e(l)}finally{s.f()}return i=i.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0})),o&&i.length>10&&(i=i.slice(0,9)),i},h=o(82),b=o.n(h),v=function(e){var t=e.target.files[0];return new Promise((function(e,o){var i=new FileReader;i.onload=function(t){var o=b.a.read(t.target.result,{type:"binary"}),i=o.Sheets[o.SheetNames[0]],n=b.a.utils.sheet_to_json(i,{header:1});e(function(e){if(10!==e[1].length)throw Error("Sheet is not compatible");var t=["Category","Name","ASIN","Date","Qty","Price($)","Link Type","Tag","Indirect Sales","Device Type Group"];for(var o in t)if(t[o]!==e[1][o])throw Error("Data values not recognised");for(var i={name:e[0][0],data:[]},n=2;n<e.length;n++){var a=e[n];i.data.push({category:a[0],name:a[1],asin:a[2],date:a[3],qty:a[4],"price($)":a[5],linkType:a[6],tag:a[7],indirectSales:a[8],deviceTypeGroup:a[9]})}return i}(n))},i.onerror=function(e){console.log(e)},i.readAsBinaryString(t)}))},k=function(e,t,o){var i=[];if(!e.data)throw Error("No Data");var n,a=Object(p.a)(e.data);try{var r=function(){var e=n.value,o=i.findIndex((function(t){return t.category===e.category})),a=Number(e.qty)*Number(e["price($)"]);-1===o?i.push({category:e.category,sales:a,income:Number(y(e.category,t)*a),tabletIncome:"TABLET"===e.deviceTypeGroup?y(e.category,t)*a:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?y(e.category,t)*a:0,phoneIncome:"PHONE"===e.deviceTypeGroup?y(e.category,t)*a:0}):(i[o].sales+=a,i[o].income+=Number(y(e.category,t)*a),i[o].tabletIncome+="TABLET"===e.deviceTypeGroup?y(e.category,t)*a:0,i[o].desktopIncome+="DESKTOP"===e.deviceTypeGroup?y(e.category,t)*a:0,i[o].phoneIncome+="PHONE"===e.deviceTypeGroup?y(e.category,t)*a:0)};for(a.s();!(n=a.n()).done;)r()}catch(l){a.e(l)}finally{a.f()}var c,s=Object(p.a)(i);try{for(s.s();!(c=s.n()).done;){var m=c.value;m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2))),m.tabletIncome&&(m.tabletIncome=Number(m.tabletIncome.toFixed(2))),m.desktopIncome&&(m.desktopIncome=Number(m.desktopIncome.toFixed(2))),m.phoneIncome&&(m.phoneIncome=Number(m.phoneIncome.toFixed(2)))}}catch(l){s.e(l)}finally{s.f()}return i=i.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0})),o&&i.length>10&&(i=i.slice(0,9)),i};var I=function(e){var t=Object(i.useState)([]),o=Object(d.a)(t,2),a=o[0],r=o[1];if(!e.data)return null;!function(t){var o,i=k(t,e.specifiedCommissions,e.top10),n=[],c=Object(p.a)(i);try{for(c.s();!(o=c.n()).done;){var s=o.value;n.push({category:s.category,commission:y(s.category,e.specifiedCommissions)})}}catch(l){c.e(l)}finally{c.f()}if(n.sort((function(e,t){return e.category.localeCompare(t.category)})),n.length!==a.length)r(n);else for(var m in n)n[m].category!==a[m].category&&r(n)}(e.data);var c,s=function(t){var o=t.target.dataset.category,i=t.target.value;e.onCommissionChange(o,i)},m=[],l=Object(p.a)(a);try{for(l.s();!(c=l.n()).done;){var u=c.value;m.push(n.a.createElement("div",{className:"category"},n.a.createElement("div",{className:"category-name"},u.category),n.a.createElement("div",null,n.a.createElement("input",{type:"number","data-category":u.category,onChange:s,className:"commission-input",defaultValue:100*Number(u.commission)}))))}}catch(g){l.e(g)}finally{l.f()}return n.a.createElement("div",{className:"category-table"},m)},x=function(e){return n.a.createElement(u.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByCategory,keys:["tabletIncome","phoneIncome","desktopIncome"],indexBy:"category",margin:{top:50,right:150,bottom:50,left:230},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})},N=function(e){return n.a.createElement(u.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByDevice,keys:["income"],indexBy:"deviceTypeGroup",margin:{top:50,right:150,bottom:50,left:230},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})},T=function(e,t,o){var i=[];if(!e.data)throw Error("No Data");var n,a=Object(p.a)(e.data);try{var r=function(){var e=n.value,o=i.findIndex((function(t){return t.deviceTypeGroup===e.deviceTypeGroup})),a=Number(e.qty)*Number(e["price($)"]);-1===o?i.push({deviceTypeGroup:e.deviceTypeGroup,sales:a,income:Number(y(e.category,t)*a)}):(i[o].sales+=a,i[o].income+=Number(y(e.category,t)*a))};for(a.s();!(n=a.n()).done;)r()}catch(l){a.e(l)}finally{a.f()}for(var c=0,s=i;c<s.length;c++){var m=s[c];m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2)))}return i=i.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0}))};var E=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),o=t[0],a=t[1],r=Object(i.useState)([]),s=Object(d.a)(r,2),u=s[0],p=s[1],y=Object(i.useState)(!0),h=Object(d.a)(y,2),b=h[0],E=h[1],S=function(){var e=Object(l.a)(m.a.mark((function e(t){var o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:o=e.sent,console.log(o),a(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O="",P="",B="";return o.data&&(O=n.a.createElement(g,{totalsByTag:f(o,u,b)}),P=n.a.createElement(x,{totalsByCategory:k(o,u,b),top10:b}),B=n.a.createElement(N,{totalsByDevice:T(o,u,b)})),console.log("The Specified Commissions are: ",u),n.a.createElement("div",{className:"App"},n.a.createElement("input",{type:"file",id:"file-selector",accept:".xlsx",onChange:S}),n.a.createElement("div",null,"Display top 10 only"," ",n.a.createElement("input",{type:"checkbox",checked:b,onClick:function(e){E(!b)}})," "),n.a.createElement(I,{data:o,specifiedCommissions:u,onCommissionChange:function(e,t){console.log("chaaaanging",t);var o=u.findIndex((function(t){return t.category===e}));if(-1===o)p(u.concat({category:e,commission:Number((t/100).toFixed(2))}));else{var i=Object(c.a)(u);i[o].commission=Number((t/100).toFixed(2)),p(i)}},top10:b}),n.a.createElement("div",{className:"device-chart"},B),n.a.createElement("div",{className:"category-chart"},P),n.a.createElement("div",{className:"tag-chart"},O))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[234,1,2]]]);
//# sourceMappingURL=main.9af2f4f8.chunk.js.map