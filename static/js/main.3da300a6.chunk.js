(this["webpackJsonpaffiliate-app"]=this["webpackJsonpaffiliate-app"]||[]).push([[0],{206:function(e,o){},258:function(e,o,t){e.exports=t(410)},263:function(e,o,t){},265:function(e,o,t){},402:function(e,o){},403:function(e,o){},410:function(e,o,t){"use strict";t.r(o);var i=t(1),a=t.n(i),n=t(207),r=t.n(n),c=(t(263),t(221)),s=t(19),m=t.n(s),l=t(208),d=t(15),g=(t(265),t(59)),u=(t(2),function(e){return a.a.createElement(g.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByTag,keys:["phoneIncome","desktopIncome","tabletIncome"],indexBy:"tag",margin:{top:50,right:130,bottom:50,left:150},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})}),y=t(10),f=function(e,o){var t=[{category:"Amazon Fashion Private Brands",commission:.04},{category:"Amazon Fresh Products",commission:.01},{category:"Amazon Gift Cards",commission:0},{category:"Amazon Pantry",commission:.01},{category:"Arts, Crafts & Sewing",commission:.04},{category:"Amazon Pantry",commission:.01},{category:"Audible Audiobooks",commission:.04},{category:"Automotive",commission:.045},{category:"Baby & Nursery",commission:.03},{category:"Beauty & Grooming",commission:.03},{category:"Blu-Ray & DVD",commission:.025},{category:"Books & Textbooks",commission:.045},{category:"Business & Industrial Supplies",commission:.03},{category:"Camera, Photo & Video",commission:.04},{category:"CDs & Vinyl",commission:.05},{category:"Cell Phones & Accessories",commission:.04},{category:"Clothing & Accessories",commission:.04},{category:"Computers, Tablets & Components",commission:.025},{category:"Digital Music",commission:.045},{category:"Echo & Alexa Accessories",commission:.04},{category:"Echo Devices",commission:.04},{category:"Electronic Components & Home Audio",commission:.04},{category:"Element Smart TV",commission:.04},{category:"Fire Tablets",commission:.04},{category:"Fire Tablets Accessories",commission:.04},{category:"Fire TV Accessories",commission:.04},{category:"Fire TV Devices",commission:.04},{category:"Furniture",commission:.04},{category:"Grocery & Gourmet Food",commission:.01},{category:"Handmade",commission:.05},{category:"Health & Household",commission:.01},{category:"Health &amp; Personal Care Appliances",commission:.01},{category:"Home",commission:.03},{category:"Home Entertainment",commission:.04},{category:"Home Improvement",commission:.03},{category:"Jewelry",commission:.04},{category:"Kindle Books",commission:.04},{category:"Kindle E-readers",commission:.04},{category:"Kindle E-readers Accessories",commission:.04},{category:"Kitchen & Dining",commission:.045},{category:"Luggage",commission:.04},{category:"Miscellaneous",commission:.04},{category:"Mobile Electronics",commission:.04},{category:"Musical Instruments",commission:.03},{category:"Office & School Supplies",commission:.04},{category:"Other",commission:.04},{category:"Other Gift Card Brands",commission:0},{category:"Outdoor Recreation",commission:.03},{category:"Patio, Lawn & Garden",commission:.03},{category:"Pet Food & Supplies",commission:.03},{category:"Power & Hand Tools",commission:.03},{category:"Premium Beauty",commission:.1},{category:"Prime Exclusive Phones",commission:.04},{category:"Ring Alarms and Smart Lighting",commission:.04},{category:"Shoes, Handbags, Wallets, Sunglasses",commission:.03},{category:"Software Download",commission:.04},{category:"Sports & Fitness",commission:.03},{category:"Toys & Games",commission:.03},{category:"VHS",commission:.04},{category:"Video Game Downloads",commission:.02},{category:"Video Games",commission:.01},{category:"Video On Demand: Rent or Buy",commission:.05},{category:"Watches",commission:.04},{category:"Wine, Spirits & Beer",commission:0}];if(o.length){var i=o.findIndex((function(o){return e===o.category}));if(-1!==i)return Number(o[i].commission)}var a=t.findIndex((function(o){return e===o.category}));if(-1===a)return.04;var n=t[a].commission;return Number(n)},p=function(e,o,t){var i=[];if(!e.data)throw Error("No Data");var a,n=Object(y.a)(e.data);try{var r=function(){var e=a.value,t=i.findIndex((function(o){return o.tag===e.tag})),n=Number(e.qty)*Number(e["price($)"]);-1===t?i.push({tag:e.tag,sales:n,income:Number(f(e.category,o)*n),tabletIncome:"TABLET"===e.deviceTypeGroup?f(e.category,o)*n:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?f(e.category,o)*n:0,phoneIncome:"PHONE"===e.deviceTypeGroup?f(e.category,o)*n:0}):(i[t].sales+=n,i[t].income+=Number(f(e.category,o)*n),i[t].tabletIncome+="TABLET"===e.deviceTypeGroup?f(e.category,o)*n:0,i[t].desktopIncome+="DESKTOP"===e.deviceTypeGroup?f(e.category,o)*n:0,i[t].phoneIncome+="PHONE"===e.deviceTypeGroup?f(e.category,o)*n:0)};for(n.s();!(a=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}var c,s=Object(y.a)(i);try{for(s.s();!(c=s.n()).done;){var m=c.value;m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2))),m.tabletIncome&&(m.tabletIncome=Number(m.tabletIncome.toFixed(2))),m.desktopIncome&&(m.desktopIncome=Number(m.desktopIncome.toFixed(2))),m.phoneIncome&&(m.phoneIncome=Number(m.phoneIncome.toFixed(2)))}}catch(l){s.e(l)}finally{s.f()}return i=i.sort((function(e,o){return e.income>o.income?-1:e.income<o.income?1:0})),t&&i.length>10&&(i=i.slice(0,9)),i},h=t(98),b=t.n(h),v=function(e){var o=e.target.files[0];return console.log("here is what the file looks like",e.target.files[0]),new Promise((function(e,t){var i=new FileReader;i.onload=function(o){var t=b.a.read(o.target.result,{type:"binary"}),i=t.Sheets[t.SheetNames[0]],a=b.a.utils.sheet_to_json(i,{header:1});e(function(e){if(10!==e[1].length)throw Error("Sheet is not compatible");var o=["Category","Name","ASIN","Date","Qty","Price($)","Link Type","Tag","Indirect Sales","Device Type Group"];for(var t in o)if(o[t]!==e[1][t])throw Error("Data values not recognised");for(var i={name:e[0][0],data:[]},a=2;a<e.length;a++){var n=e[a];i.data.push({category:n[0],name:n[1],asin:n[2],date:n[3],qty:n[4],"price($)":n[5],linkType:n[6],tag:n[7],indirectSales:n[8],deviceTypeGroup:n[9]})}return i}(a))},i.onerror=function(e){console.log(e)},i.readAsBinaryString(o)}))},k=function(e,o,t){var i=[];if(!e.data)throw Error("No Data");var a,n=Object(y.a)(e.data);try{var r=function(){var e=a.value,t=i.findIndex((function(o){return o.category===e.category})),n=Number(e.qty)*Number(e["price($)"]);-1===t?i.push({category:e.category,sales:n,income:Number(f(e.category,o)*n),tabletIncome:"TABLET"===e.deviceTypeGroup?f(e.category,o)*n:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?f(e.category,o)*n:0,phoneIncome:"PHONE"===e.deviceTypeGroup?f(e.category,o)*n:0}):(i[t].sales+=n,i[t].income+=Number(f(e.category,o)*n),i[t].tabletIncome+="TABLET"===e.deviceTypeGroup?f(e.category,o)*n:0,i[t].desktopIncome+="DESKTOP"===e.deviceTypeGroup?f(e.category,o)*n:0,i[t].phoneIncome+="PHONE"===e.deviceTypeGroup?f(e.category,o)*n:0)};for(n.s();!(a=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}var c,s=Object(y.a)(i);try{for(s.s();!(c=s.n()).done;){var m=c.value;m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2))),m.tabletIncome&&(m.tabletIncome=Number(m.tabletIncome.toFixed(2))),m.desktopIncome&&(m.desktopIncome=Number(m.desktopIncome.toFixed(2))),m.phoneIncome&&(m.phoneIncome=Number(m.phoneIncome.toFixed(2)))}}catch(l){s.e(l)}finally{s.f()}return i=i.sort((function(e,o){return e.income>o.income?-1:e.income<o.income?1:0})),t&&i.length>10&&(i=i.slice(0,9)),i};var x=function(e){var o=Object(i.useState)([]),t=Object(d.a)(o,2),n=t[0],r=t[1];if(!e.data)return null;!function(o){var t,i=k(o,e.specifiedCommissions,e.top10),a=[],c=Object(y.a)(i);try{for(c.s();!(t=c.n()).done;){var s=t.value;a.push({category:s.category,commission:f(s.category,e.specifiedCommissions)})}}catch(l){c.e(l)}finally{c.f()}if(a.sort((function(e,o){return e.category.localeCompare(o.category)})),a.length!==n.length)r(a);else for(var m in a)a[m].category===n[m].category&&a[m].commission===n[m].commission||r(a)}(e.data);var c,s=function(o){var t=o.target.dataset.category,i=o.target.value;e.onCommissionChange(t,i)},m=[],l=Object(y.a)(n);try{for(l.s();!(c=l.n()).done;){var g=c.value;m.push(a.a.createElement("div",{className:"category"},a.a.createElement("div",{className:"category-name"},g.category),a.a.createElement("div",null,a.a.createElement("input",{type:"number",min:"0",max:"100","data-category":g.category,onChange:s,className:"commission-input",value:100*Number(g.commission),name:g.category}))))}}catch(u){l.e(u)}finally{l.f()}return a.a.createElement("form",{onSubmit:function(e){e.preventDefault()},className:"category-table"},m,a.a.createElement("button",{onClick:function(o){o.preventDefault(),e.onResetCommissions(o)}},"Reset Commissions"))},S=function(e){return a.a.createElement(g.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByCategory,keys:["phoneIncome","desktopIncome","tabletIncome"],indexBy:"category",margin:{top:50,right:150,bottom:50,left:230},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})},I=function(e){return a.a.createElement(g.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByDevice,keys:["income"],indexBy:"deviceTypeGroup",margin:{top:50,right:150,bottom:50,left:230},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})},N=function(e,o,t){var i=[];if(!e.data)throw Error("No Data");var a,n=Object(y.a)(e.data);try{var r=function(){var e=a.value,t=i.findIndex((function(o){return o.deviceTypeGroup===e.deviceTypeGroup})),n=Number(e.qty)*Number(e["price($)"]);-1===t?i.push({deviceTypeGroup:e.deviceTypeGroup,sales:n,income:Number(f(e.category,o)*n)}):(i[t].sales+=n,i[t].income+=Number(f(e.category,o)*n))};for(n.s();!(a=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}for(var c=0,s=i;c<s.length;c++){var m=s[c];m.sales&&(m.sales=Number(m.sales.toFixed(2))),m.income&&(m.income=Number(m.income.toFixed(2)))}return i=i.sort((function(e,o){return e.income>o.income?-1:e.income<o.income?1:0}))},T=t(219),E=function(e){return a.a.createElement(T.a,{data:e.totalsByTagAndDate,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"date",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"income",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"dark2"},enablePoints:!1,pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},O=function(e,o,t){var i=[];if(!e.data)throw Error("No Data");var a,n=Object(y.a)(e.data);try{var r=function(){var e=a.value,t=i.findIndex((function(o){return o.id===e.tag})),n=Number(e.qty)*Number(e["price($)"]),r=Number(f(e.category,o)*n),c=e.date.split(" ")[0];if(-1===t)i.push({id:e.tag,data:[{x:c,y:r}]}),t=i.findIndex((function(o){return o.tag===e.tag}));else{var s=i[t].data.findIndex((function(e){return e.x===c}));-1===s?i[t].data.push({x:c,y:r}):i[t].data[s].y+=r}};for(n.s();!(a=n.n()).done;)r()}catch(k){n.e(k)}finally{n.f()}var c,s=Object(y.a)(i);try{for(s.s();!(c=s.n()).done;){var m,l=c.value,d=Object(y.a)(l.data);try{for(d.s();!(m=d.n()).done;){var g=m.value;g.y=Number(g.y.toFixed(2))}}catch(k){d.e(k)}finally{d.f()}l.data.reverse()}}catch(k){s.e(k)}finally{s.f()}if(t){var u,h=[],b=Object(y.a)(p(e,o,!0));try{for(b.s();!(u=b.n()).done;){var v=u.value;h.push(v.tag)}}catch(k){b.e(k)}finally{b.f()}i=i.filter((function(e){return h.includes(e.id)}))}return i};var P=function(){var e=Object(i.useState)(!1),o=Object(d.a)(e,2),t=o[0],n=o[1],r=Object(i.useState)([]),s=Object(d.a)(r,2),g=s[0],y=s[1],f=Object(i.useState)(!0),h=Object(d.a)(f,2),b=h[0],T=h[1],P=function(){var e=Object(l.a)(m.a.mark((function e(o){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(o);case 3:t=e.sent,n(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(o){return e.apply(this,arguments)}}(),C="",D="",B="",w="";return t.data&&(C=a.a.createElement(u,{totalsByTag:p(t,g,b)}),D=a.a.createElement(S,{totalsByCategory:k(t,g,b),top10:b}),B=a.a.createElement(I,{totalsByDevice:N(t,g,b)}),w=a.a.createElement(E,{totalsByTagAndDate:O(t,g,b)})),a.a.createElement("div",{className:"App"},a.a.createElement("input",{type:"file",id:"file-selector",accept:".xlsx",onChange:P}),a.a.createElement("div",null,"Display top 10 only"," ",a.a.createElement("input",{type:"checkbox",checked:b,onClick:function(e){T(!b)}})," "),a.a.createElement(x,{data:t,specifiedCommissions:g,onCommissionChange:function(e,o){var t=g.findIndex((function(o){return o.category===e}));if(-1===t)y(g.concat({category:e,commission:Number((o/100).toFixed(2))}));else{var i=Object(c.a)(g);i[t].commission=Number((o/100).toFixed(2)),y(i)}},top10:b,onResetCommissions:function(e){y([])}}),a.a.createElement("div",{className:"device-chart"},B),a.a.createElement("div",{className:"category-chart"},D),a.a.createElement("div",{className:"tag-chart"},C),a.a.createElement("div",{className:"tag-day-chart"},w))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[258,1,2]]]);
//# sourceMappingURL=main.3da300a6.chunk.js.map