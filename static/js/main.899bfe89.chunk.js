(this["webpackJsonpaffiliate-app"]=this["webpackJsonpaffiliate-app"]||[]).push([[0],{283:function(e,t){},304:function(e,t,a){e.exports=a(449)},309:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},447:function(e,t){},448:function(e,t){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(136),i=a.n(o),c=(a(309),a(18)),s=a.n(c),l=a(58),m=a(33),d=a(12),u=(a(311),a(312),function(e){var t=e.handleFileInput,a=e.handleToggleSettings;return r.a.createElement("div",{className:"header"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("input",{className:"file-input",type:"file",name:"file",id:"file-selector",accept:".xlsx",onChange:t}),r.a.createElement("label",{htmlFor:"file-selector"},"Load file")),r.a.createElement("div",{onClick:a,className:"settings-selector"},"Settings"))}),g=(a(313),function(e){var t=e.item,a=e.handleChartSelect,n="sidebar-chart-item";return t.selected&&(n+=" selected-item"),r.a.createElement("div",{"data-chartname":t.chartname,onClick:a,className:n},t.name)}),f=function(e){for(var t=e.chart,a=e.handleChartSelect,n=[{name:"Home",chartname:"home"},{name:"Devices",chartname:"devices"},{name:"Tag",chartname:"tag"},{name:"Category",chartname:"category"},{name:"Sales",chartname:"sales"},{name:"Time",chartname:"time"}],o=0,i=n;o<i.length;o++){var c=i[o];c.selected=t===c.chartname}return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"title"},"Affiliate App"),r.a.createElement("div",{className:"sidebar-chart-list"},n.map((function(e){return r.a.createElement(g,{key:e.chartname,item:e,handleChartSelect:a})}))))},h=a(90),p=function(e){return r.a.createElement(h.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByDevice,keys:["income"],indexBy:"deviceTypeGroup",margin:{top:50,right:150,bottom:50,left:230},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})},y=(a(437),function(e){return r.a.createElement(h.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByTag,keys:["phoneIncome","desktopIncome","tabletIncome"],indexBy:"tag",margin:{top:50,right:130,bottom:50,left:150},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})}),v=a(10),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[{category:"Amazon Fashion Private Brands",commission:.04},{category:"Amazon Fresh Products",commission:.01},{category:"Amazon Gift Cards",commission:0},{category:"Amazon Pantry",commission:.01},{category:"Arts, Crafts & Sewing",commission:.04},{category:"Amazon Pantry",commission:.01},{category:"Audible Audiobooks",commission:.04},{category:"Automotive",commission:.045},{category:"Baby & Nursery",commission:.03},{category:"Beauty & Grooming",commission:.03},{category:"Blu-Ray & DVD",commission:.025},{category:"Books & Textbooks",commission:.045},{category:"Business & Industrial Supplies",commission:.03},{category:"Camera, Photo & Video",commission:.04},{category:"CDs & Vinyl",commission:.05},{category:"Cell Phones & Accessories",commission:.04},{category:"Clothing & Accessories",commission:.04},{category:"Computers, Tablets & Components",commission:.025},{category:"Digital Music",commission:.045},{category:"Echo & Alexa Accessories",commission:.04},{category:"Echo Devices",commission:.04},{category:"Electronic Components & Home Audio",commission:.04},{category:"Element Smart TV",commission:.04},{category:"Fire Tablets",commission:.04},{category:"Fire Tablets Accessories",commission:.04},{category:"Fire TV Accessories",commission:.04},{category:"Fire TV Devices",commission:.04},{category:"Furniture",commission:.04},{category:"Grocery & Gourmet Food",commission:.01},{category:"Handmade",commission:.05},{category:"Health & Household",commission:.01},{category:"Health &amp; Personal Care Appliances",commission:.01},{category:"Home",commission:.03},{category:"Home Entertainment",commission:.04},{category:"Home Improvement",commission:.03},{category:"Jewelry",commission:.04},{category:"Kindle Books",commission:.04},{category:"Kindle E-readers",commission:.04},{category:"Kindle E-readers Accessories",commission:.04},{category:"Kitchen & Dining",commission:.045},{category:"Luggage",commission:.04},{category:"Miscellaneous",commission:.04},{category:"Mobile Electronics",commission:.04},{category:"Musical Instruments",commission:.03},{category:"Office & School Supplies",commission:.04},{category:"Other",commission:.04},{category:"Other Gift Card Brands",commission:0},{category:"Outdoor Recreation",commission:.03},{category:"Patio, Lawn & Garden",commission:.03},{category:"Pet Food & Supplies",commission:.03},{category:"Power & Hand Tools",commission:.03},{category:"Premium Beauty",commission:.1},{category:"Prime Exclusive Phones",commission:.04},{category:"Ring Alarms and Smart Lighting",commission:.04},{category:"Shoes, Handbags, Wallets, Sunglasses",commission:.03},{category:"Software Download",commission:.04},{category:"Sports & Fitness",commission:.03},{category:"Toys & Games",commission:.03},{category:"VHS",commission:.04},{category:"Video Game Downloads",commission:.02},{category:"Video Games",commission:.01},{category:"Video On Demand: Rent or Buy",commission:.05},{category:"Watches",commission:.04},{category:"Wine, Spirits & Beer",commission:0}],n=t.findIndex((function(t){return e===t.category}));if(-1!==n)return Number(t[n].commission);var r=a.findIndex((function(t){return e===t.category}));if(-1===r)return.04;var o=a[r].commission;return Number(o)},E=function(e,t){var a=[];if(!e["Fee-Orders"])throw Error("No Data");var n,r=Object(v.a)(e["Fee-Orders"]);try{var o=function(){var e=n.value,r=a.findIndex((function(t){return t.tag===e.tag})),o=Number(e.qty)*Number(e["price($)"]);-1===r?a.push({tag:e.tag,sales:o,income:Number(b(e.category,t)*o),tabletIncome:"TABLET"===e.deviceTypeGroup?b(e.category,t)*o:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?b(e.category,t)*o:0,phoneIncome:"PHONE"===e.deviceTypeGroup?b(e.category,t)*o:0}):(a[r].sales+=o,a[r].income+=Number(b(e.category,t)*o),a[r].tabletIncome+="TABLET"===e.deviceTypeGroup?b(e.category,t)*o:0,a[r].desktopIncome+="DESKTOP"===e.deviceTypeGroup?b(e.category,t)*o:0,a[r].phoneIncome+="PHONE"===e.deviceTypeGroup?b(e.category,t)*o:0)};for(r.s();!(n=r.n()).done;)o()}catch(l){r.e(l)}finally{r.f()}for(var i=0,c=a;i<c.length;i++){var s=c[i];s.sales&&(s.sales=Number(s.sales.toFixed(2))),s.income&&(s.income=Number(s.income.toFixed(2))),s.tabletIncome&&(s.tabletIncome=Number(s.tabletIncome.toFixed(2))),s.desktopIncome&&(s.desktopIncome=Number(s.desktopIncome.toFixed(2))),s.phoneIncome&&(s.phoneIncome=Number(s.phoneIncome.toFixed(2)))}return a=a.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0}))},S=function(e,t,a){var n=[];if(!e["Fee-Orders"])throw Error("No Data");var r,o=Object(v.a)(e["Fee-Orders"]);try{var i=function(){var e=r.value;if(!a.includes(e.category))return"continue";var o=n.findIndex((function(t){return t.category===e.category})),i=Number(e.qty)*Number(e["price($)"]);-1===o?n.push({category:e.category,sales:i,income:Number(b(e.category,t)*i),tabletIncome:"TABLET"===e.deviceTypeGroup?b(e.category,t)*i:0,desktopIncome:"DESKTOP"===e.deviceTypeGroup?b(e.category,t)*i:0,phoneIncome:"PHONE"===e.deviceTypeGroup?b(e.category,t)*i:0}):(n[o].sales+=i,n[o].income+=Number(b(e.category,t)*i),n[o].tabletIncome+="TABLET"===e.deviceTypeGroup?b(e.category,t)*i:0,n[o].desktopIncome+="DESKTOP"===e.deviceTypeGroup?b(e.category,t)*i:0,n[o].phoneIncome+="PHONE"===e.deviceTypeGroup?b(e.category,t)*i:0)};for(o.s();!(r=o.n()).done;)i()}catch(m){o.e(m)}finally{o.f()}for(var c=0,s=n;c<s.length;c++){var l=s[c];l.sales&&(l.sales=Number(l.sales.toFixed(2))),l.income&&(l.income=Number(l.income.toFixed(2))),l.tabletIncome&&(l.tabletIncome=Number(l.tabletIncome.toFixed(2))),l.desktopIncome&&(l.desktopIncome=Number(l.desktopIncome.toFixed(2))),l.phoneIncome&&(l.phoneIncome=Number(l.phoneIncome.toFixed(2)))}return n=n.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0}))},k=function(e){return r.a.createElement(h.a,{layout:"horizontal",groupMode:"stacked",data:e.totalsByCategory,keys:["phoneIncome","desktopIncome","tabletIncome"],indexBy:"category",margin:{top:50,right:150,bottom:50,left:230},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Income ($)",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})},N=function(e,t,a){var n=[];if(!e["Fee-Orders"])throw Error("No Data");var r,o=Object(v.a)(e["Fee-Orders"]);try{var i=function(){var e=r.value,a=n.findIndex((function(t){return t.deviceTypeGroup===e.deviceTypeGroup})),o=Number(e.qty)*Number(e["price($)"]);-1===a?n.push({deviceTypeGroup:e.deviceTypeGroup,sales:o,income:Number(b(e.category,t)*o)}):(n[a].sales+=o,n[a].income+=Number(b(e.category,t)*o))};for(o.s();!(r=o.n()).done;)i()}catch(m){o.e(m)}finally{o.f()}for(var c=0,s=n;c<s.length;c++){var l=s[c];l.sales&&(l.sales=Number(l.sales.toFixed(2))),l.income&&(l.income=Number(l.income.toFixed(2)))}return n=n.sort((function(e,t){return e.income>t.income?-1:e.income<t.income?1:0}))},T=a(291),O=function(e){return r.a.createElement(T.a,{data:e.totalsByTagAndDate,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"date",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"income",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"dark2"},enablePoints:!1,pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},C=function(e,t){var a=[];if(!e["Fee-Orders"])throw Error("No Data");var n,r=Object(v.a)(e["Fee-Orders"]);try{var o=function(){var e=n.value,r=a.findIndex((function(t){return t.id===e.tag})),o=Number(e.qty)*Number(e["price($)"]),i=Number(b(e.category,t)*o),c=e.date.split(" ")[0];if(-1===r)a.push({id:e.tag,data:[{x:c,y:i}]}),r=a.findIndex((function(t){return t.tag===e.tag}));else{var s=a[r].data.findIndex((function(e){return e.x===c}));-1===s?a[r].data.push({x:c,y:i}):a[r].data[s].y+=i}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}for(var i=0,c=a;i<c.length;i++){var s,l=c[i],m=Object(v.a)(l.data);try{for(m.s();!(s=m.n()).done;){var d=s.value;d.y=Number(d.y.toFixed(2))}}catch(u){m.e(u)}finally{m.f()}l.data.reverse()}return a},F=(a(78),function(e,t,a){var n=[];if(!e["Fee-Orders"])throw Error("No Data");var r,o=Object(v.a)(e["Fee-Orders"]);try{var i=function(){var e=r.value,t=n.findIndex((function(t){return t.deviceTypeGroup===e.deviceTypeGroup})),a=Number(e.qty)*Number(e["price($)"]);-1===t?n.push({deviceTypeGroup:e.deviceTypeGroup,sales:a}):n[t].sales+=a};for(o.s();!(r=o.n()).done;)i()}catch(m){o.e(m)}finally{o.f()}for(var c=0,s=n;c<s.length;c++){var l=s[c];l.sales&&(l.sales=Number(l.sales.toFixed(2)))}return n=n.sort((function(e,t){return e.sales>t.sales?-1:e.income<t.income?1:0}))}),I=a(292),A=function(e){return r.a.createElement(I.a,{data:e.data,id:e.id,value:e.value,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"nivo"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"#333333",radialLabelsLinkColor:{from:"color"},sliceLabelsSkipAngle:10,sliceLabelsTextColor:"#333333",defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"ruby"},id:"dots"},{match:{id:"c"},id:"dots"},{match:{id:"go"},id:"dots"},{match:{id:"python"},id:"dots"},{match:{id:"scala"},id:"lines"},{match:{id:"lisp"},id:"lines"},{match:{id:"elixir"},id:"lines"},{match:{id:"javascript"},id:"lines"}],legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})},j=(a(438),function(e,t){var a=0,n=0;if(!e["Fee-Orders"])throw Error("No Data");var r,o=Object(v.a)(e["Fee-Orders"]);try{for(o.s();!(r=o.n()).done;){var i=r.value,c=Number(i.qty)*Number(i["price($)"]);a+=c,n+=Number(b(i.category,t)*c)}}catch(l){o.e(l)}finally{o.f()}var s=n/a;return Math.round(1e4*s)/100}),x=function(e){e.chart;var t=e.jsObjData,a=e.specifiedCommissions,n=e.selectedCategories;e.categories;return r.a.createElement("div",{className:"grid-charts"},r.a.createElement("div",{className:"chart"},r.a.createElement(A,{className:"chart",data:F(t,a,n),id:"deviceTypeGroup",value:"sales"})),r.a.createElement("div",{className:"chart"},r.a.createElement(A,{data:N(t,a,n),id:"deviceTypeGroup",value:"income"})),r.a.createElement("div",{className:"figure"},r.a.createElement("h2",null,j(t,a),"%"),r.a.createElement("p",null,"Average Affiliate Fee")),r.a.createElement("div",{className:"chart"},r.a.createElement(A,{data:N(t,a,n),id:"deviceTypeGroup",value:"income"})))},D={getOrdersVolume:function(e){var t,a=0,n=Object(v.a)(e["Fee-Orders"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;Number(r.qty)&&(a+=Number(r.qty))}}catch(o){n.e(o)}finally{n.f()}return a},getSalesVolume:function(e){var t,a=0,n=Object(v.a)(e["Fee-Earnings"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;Number(r.itemsShipped)&&(a+=Number(r.itemsShipped))}}catch(o){n.e(o)}finally{n.f()}return a},getTotalReturns:function(e){var t,a=0,n=Object(v.a)(e["Fee-Earnings"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;Number(r.returns)&&(a+=Number(r.returns))}}catch(o){n.e(o)}finally{n.f()}return a},getTotalReturnsCost:function(e){var t,a=0,n=Object(v.a)(e["Fee-Earnings"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;Number(r.returns)&&(a+=Number(r["revenue($)"]))}}catch(o){n.e(o)}finally{n.f()}return a},getTotalOrdersTurnover:function(e){var t,a=0,n=Object(v.a)(e["Fee-Orders"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;Number(r.qty)&&(a+=Number(r.qty)*Number(r["price($)"]))}}catch(o){n.e(o)}finally{n.f()}return a},getTotalSalesTurnover:function(e){var t,a=0,n=Object(v.a)(e["Fee-Earnings"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;Number(r.itemsShipped)&&(a+=Number(r["revenue($)"]))}}catch(o){n.e(o)}finally{n.f()}return a},getTotalActualIncome:function(e){var t,a=0,n=Object(v.a)(e["Fee-Earnings"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;Number(r["adFees($)"])&&(a+=Number(r["adFees($)"]))}}catch(o){n.e(o)}finally{n.f()}return a},getAverageOrdersItemCost:function(e){return D.getTotalOrdersTurnover(e)/D.getOrdersVolume(e)},getAverageSalesItemCost:function(e){return D.getTotalSalesTurnover(e)/D.getSalesVolume(e)},getAverageReturnedItemCost:function(e){return D.getTotalReturnsCost(e)/D.getTotalReturns(e)},getTotalOrdersBaskets:function(e){var t=0;return e["Fee-Orders"].map((function(a,n){Number(a.qty)&&(0==t||a.date!=e["Fee-Orders"][n-1].date)&&(t+=1)})),t},getTotalSalesBaskets:function(e){var t=0;return e["Fee-Earnings"].map((function(a,n){Number(a.itemsShipped)&&(0==t||a.dateShipped!=e["Fee-Earnings"][n-1].dateShipped)&&(t+=1)})),t},getTotalReturnsBaskets:function(e){var t=0;return e["Fee-Earnings"].map((function(a,n){Number(a.returns)&&(0==t||a.dateShipped!=e["Fee-Earnings"][n-1].dateShipped)&&(t+=1)})),t},getAverageOrdersBasketCost:function(e){return D.getTotalOrdersTurnover(e)/D.getTotalOrdersBaskets(e)},getAverageSalesBasketCost:function(e){return D.getTotalSalesTurnover(e)/D.getTotalSalesBaskets(e)},getAverageReturnsBasketCost:function(e){return D.getTotalReturnsCost(e)/D.getTotalReturnsBaskets(e)},getAverageFee:function(e){return D.getTotalActualIncome(e)/D.getSalesVolume(e)},getAverageFeeFraction:function(e){return D.getTotalActualIncome(e)/D.getTotalSalesTurnover(e)}},w=D,B=function(e,t,a,n,r){var o={};return console.log("categories",t),console.log("tags",a),console.log("dataintofilter",e),o["Fee-Orders"]=e["Fee-Orders"].filter((function(e){return!!a.includes(e.tag)&&!!t.includes(e.category)})),o["Fee-Earnings"]=e["Fee-Earnings"].filter((function(e){return!!a.includes(e.tag)&&!!t.includes(e.category)})),console.log("datafiltered",o),o},P=(a(439),function(e){e.chart;var t=e.jsObjData,a=(e.specifiedCommissions,e.selectedCategories),n=(e.categories,e.selectedTags),o={style:"currency",currency:"USD",maximumFractionDigits:0,minimumFractionDigits:0},i=B(t,a,n);return r.a.createElement("div",{className:"home-column"},r.a.createElement("div",null,r.a.createElement("h2",null,"Orders"),r.a.createElement("div",{className:"home-row"},r.a.createElement("div",null,r.a.createElement("h3",null,"Items:"),r.a.createElement("div",{className:"stat"},w.getOrdersVolume(i))),r.a.createElement("div",null,r.a.createElement("h3",null,"Baskets:"),r.a.createElement("div",{className:"stat"},w.getTotalOrdersBaskets(i))),r.a.createElement("div",null,r.a.createElement("h3",null,"Average Item Cost:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(w.getAverageOrdersItemCost(i)))),r.a.createElement("div",null,r.a.createElement("h3",null,"Average Basket Cost:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(w.getAverageOrdersBasketCost(i)))),r.a.createElement("div",null,r.a.createElement("h3",null,"Turnover:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(w.getTotalOrdersTurnover(i)))))),r.a.createElement("div",null,r.a.createElement("h2",null,"Sales"),r.a.createElement("div",{className:"home-row"},r.a.createElement("div",null,r.a.createElement("h3",null,"Items:"),r.a.createElement("div",{className:"stat"},w.getSalesVolume(i))),r.a.createElement("div",null,r.a.createElement("h3",null,"Baskets:"),r.a.createElement("div",{className:"stat"},w.getTotalSalesBaskets(i))),r.a.createElement("div",null,r.a.createElement("h3",null,"Average Item Cost:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(w.getAverageSalesItemCost(i)))),r.a.createElement("div",null,r.a.createElement("h3",null,"Average Basket Cost:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(w.getAverageSalesBasketCost(i)))),r.a.createElement("div",null,r.a.createElement("h3",null,"Turnover:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(w.getTotalSalesTurnover(i)))))),r.a.createElement("div",null,r.a.createElement("h2",null,"Returns"),r.a.createElement("div",{className:"home-row"},r.a.createElement("div",null,r.a.createElement("h3",null,"Items:"),r.a.createElement("div",{className:"stat"},w.getTotalReturns(i))),r.a.createElement("div",null,r.a.createElement("h3",null,"Baskets:"),r.a.createElement("div",{className:"stat"},w.getTotalReturnsBaskets(i))),r.a.createElement("div",null,r.a.createElement("h3",null,"Average Item Cost:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(Math.round(w.getAverageReturnedItemCost(i))))),r.a.createElement("div",null,r.a.createElement("h3",null,"Average Basket Cost:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(w.getAverageReturnsBasketCost(i)))),r.a.createElement("div",null,r.a.createElement("h3",null,"Returns Turnover:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(Math.round(w.getTotalReturnsCost(i))))))),r.a.createElement("div",null,r.a.createElement("h2",null,"Fees"),r.a.createElement("div",{className:"home-row"},r.a.createElement("div",null,r.a.createElement("h3",null,"Average Fee Fraction:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}).format(w.getAverageFeeFraction(i)))),r.a.createElement("div",null,r.a.createElement("h3",null,"Average Fee Per Item:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(w.getAverageFee(i)))),r.a.createElement("div",null,r.a.createElement("h3",null,"Actual Income:"),r.a.createElement("div",{className:"stat"},new Intl.NumberFormat("en-US",o).format(Math.round(w.getTotalActualIncome(i))))))))}),R=function(e){var t=e.chart,a=e.jsObjData,n=e.specifiedCommissions,o=e.selectedCategories,i=e.categories,c=e.selectedTags;if(!a["Fee-Orders"])return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"chart-container"}));var s,l=B(a,o,c);switch(t){case"devices":s=r.a.createElement("div",{className:"chart-container"},r.a.createElement(p,{totalsByDevice:N(a,n,i)}));break;case"tag":s=r.a.createElement("div",{className:"chart-container"},r.a.createElement(y,{totalsByTag:E(l,n)}));break;case"category":s=r.a.createElement("div",{className:"chart-container"},r.a.createElement(k,{totalsByCategory:S(l,n,o)}));break;case"time":s=r.a.createElement("div",{className:"chart-container"},r.a.createElement(O,{totalsByTagAndDate:C(l,n,o)}));break;case"sales":s=r.a.createElement(x,{jsObjData:l,specifiedCommissions:n,selectedCategories:o,selectedTags:c});break;case"home":s=r.a.createElement(P,{jsObjData:l,specifiedCommissions:n,selectedCategories:o,selectedTags:c});break;default:s=r.a.createElement(P,{jsObjData:a,specifiedCommissions:n,selectedCategories:o,selectedTags:c})}var m=r.a.createElement("div",null);if(a["Fee-Orders"]){var d=String(a["Fee-Orders"][0].date.split(" ")[0]),u=String(a["Fee-Orders"][a["Fee-Orders"].length-1].date.split(" ")[0]);m=r.a.createElement("div",null,r.a.createElement("p",null,"Date ranges from: ",u," to ",d))}return r.a.createElement("div",{className:"main"},m,s)},G=(a(440),a(441),function(e){var t=e.tags,a=e.selectedTags,o=e.handleTagSelect,i=e.onSelectAllTags,c=e.data,s=e.specifiedCommissions,l=e.onTop10TagClick,m=Object(n.useState)("income"),u=Object(d.a)(m,2),g=u[0],f=u[1],h=Object(n.useState)(t),p=Object(d.a)(h,2),y=p[0],b=p[1],S=function(e){e.preventDefault(),e.target.dataset.order!==g&&("alpha"!==e.target.dataset.order&&"income"!==e.target.dataset.order||f(e.target.dataset.order))};if(!c)return null;!function(e){var a=E(e,s,t.map((function(e){return e.tag})));switch(g){case"income":a.sort((function(e,t){return e.income>t.income}));break;case"alpha":a.sort((function(e,t){return e.tag.localeCompare(t.tag)}));break;default:a.sort((function(e,t){return e.income>t.income}))}y.every((function(e,t){return e.tag===a[t].tag}))||b(a)}(c);var k,N=[],T=Object(v.a)(y);try{for(T.s();!(k=T.n()).done;){var O=k.value;N.push(r.a.createElement("div",{key:O.tag,className:"tag"},r.a.createElement("input",{className:"checkbox",type:"checkbox",checked:a.includes(O.tag),onClick:o,"data-tag":O.tag}),r.a.createElement("div",{className:"tag-name"},O.tag)))}}catch(C){T.e(C)}finally{T.f()}return r.a.createElement("form",{onSubmit:function(e){e.preventDefault()},className:"tag-table"},r.a.createElement("button",{onClick:S,"data-order":"income"},"Sort by Income"),r.a.createElement("button",{onClick:S,"data-order":"alpha"},"Sort alphabetically"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),i(e)}},"Select All/None"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),l(e)}},"Select Top 10/All"),N)});a(442);var z=function(e){var t=e.data,a=e.specifiedCommissions,o=e.onCommissionChange,i=e.onResetCommissions,c=e.onTop10Click,s=e.selectedCategories,l=e.handleCategorySelect,m=e.categories,u=e.onSelectAll,g=Object(n.useState)("income"),f=Object(d.a)(g,2),h=f[0],p=f[1],y=Object(n.useState)([]),E=Object(d.a)(y,2),k=E[0],N=E[1];if(!t)return null;!function(e){var t=S(e,a,m.map((function(e){return e.category})));switch(h){case"income":t.sort((function(e,t){return e.income>t.income}));break;case"alpha":t.sort((function(e,t){return e.category.localeCompare(t.category)}));break;default:t.sort((function(e,t){return e.income>t.income}))}var n,r=[],o=Object(v.a)(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push({category:i.category,commission:b(i.category,a)})}}catch(s){o.e(s)}finally{o.f()}if(r.length!==k.length)N(r);else for(var c in r)r[c].category===k[c].category&&r[c].commission===k[c].commission||N(r)}(t);var T,O=function(e){var t=e.target.dataset.category,a=e.target.value;o(t,a)},C=function(e){e.preventDefault(),e.target.dataset.order!==h&&("alpha"!==e.target.dataset.order&&"income"!==e.target.dataset.order||p(e.target.dataset.order))},F=[],I=Object(v.a)(k);try{for(I.s();!(T=I.n()).done;){var A=T.value;F.push(r.a.createElement("div",{key:A.category,className:"category"},r.a.createElement("input",{className:"checkbox",type:"checkbox",checked:s.includes(A.category),onClick:l,"data-category":A.category}),r.a.createElement("div",{className:"category-name"},A.category),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"0",max:"100","data-category":A.category,onChange:O,className:"commission-input",value:100*Number(A.commission),name:A.category}))))}}catch(j){I.e(j)}finally{I.f()}return console.log("props.categories",m,s),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()},className:"category-table"},r.a.createElement("button",{onClick:function(e){e.preventDefault(),i(e)}},"Reset Commissions"),r.a.createElement("button",{onClick:C,"data-order":"income"},"Sort by Income"),r.a.createElement("button",{onClick:C,"data-order":"alpha"},"Sort alphabetically"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),u(e)}},"Select All/None"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),c(e)}},"Select Top 10/All"),F)},L=function(e){var t=e.expanded,a=e.contents;return t?r.a.createElement("div",{className:"category-settings"},r.a.createElement("div",{className:"category-settings-body"},a)):null},H=function(e){var t=e.jsObjData,a=e.specifiedCommissions,o=e.handleCommissionChange,i=e.handleResetCommissions,c=e.handleTop10Click,s=e.selectedCategories,l=e.handleCategorySelect,m=e.categories,u=e.onSelectAll,g=e.handleTagSelect,f=e.tags,h=e.selectedTags,p=e.handleSelectAllTags,y=e.handleTop10TagClick,v=e.handleClearAllFilters,b=Object(n.useState)(null),E=Object(d.a)(b,2),S=E[0],k=E[1],N=function(e){console.log("clicked");var t=e.target.dataset.section;console.log(t),k(t!==S?t:null)};return r.a.createElement("div",{className:"settings"},r.a.createElement("button",{onClick:v},"Clear all filters"),r.a.createElement("button",{"data-section":"tags",onClick:N,className:"accordian"},"Tags"),r.a.createElement(L,{expanded:"tags"===S,contents:r.a.createElement(G,{data:t,specifiedCommissions:a,tags:f,selectedTags:h,handleTagSelect:g,onSelectAllTags:p,onTop10TagClick:y})}),r.a.createElement("button",{"data-section":"categories",onClick:N,className:"accordian"},"Categories"),r.a.createElement(L,{expanded:"categories"===S,contents:r.a.createElement(z,{data:t,specifiedCommissions:a,onCommissionChange:o,onResetCommissions:i,selectedCategories:s,handleCategorySelect:l,categories:m,onSelectAll:u,onTop10Click:c})}))},$=a(196),W=a.n($),V=function(e){var t={};if(!e["Fee-Orders"])throw Error("Sheet is not compatible: (No Fee-Orders Sheet)");if(t["Fee-Orders"]=function(e){if(!e)throw Error("Sheet is not compatible: (No Fee-Orders Sheet)");if(10!==e[1].length)throw Error("Sheet is not compatible");var t=["Category","Name","ASIN","Date","Qty","Price($)","Link Type","Tag","Indirect Sales","Device Type Group"];for(var a in t)if(t[a]!==e[1][a])throw Error("Data values not recognised");for(var n=[],r=2;r<e.length;r++){var o=e[r];n.push({category:o[0],name:o[1],asin:o[2],date:o[3],qty:o[4],"price($)":o[5],linkType:o[6],tag:o[7],indirectSales:o[8],deviceTypeGroup:o[9]})}return console.log("orderPageJson",n),n}(e["Fee-Orders"]),!e["Fee-Earnings"])throw Error("Sheet is not compatible: (No Fee-Orders Sheet)");return t["Fee-Earnings"]=function(e){if(!e)throw Error("Sheet is not compatible: (No Fee-Earnings Sheet)");if(12!==e[1].length)throw Error("Sheet is not compatible");var t=["Category","Name","ASIN","Seller","Tracking ID","Date Shipped","Price($)","Items Shipped","Returns","Revenue($)","Ad Fees($)","Device Type Group"];for(var a in t)if(t[a]!==e[1][a])throw Error("Data values not recognised");for(var n=[],r=2;r<e.length;r++){var o=e[r];n.push({category:o[0],name:o[1],asin:o[2],seller:o[3],tag:o[4],dateShipped:o[5],price:o[6],itemsShipped:o[7],returns:o[8],"revenue($)":o[9],"adFees($)":o[10],deviceTypeGroup:o[11]})}return console.log("earningsPageJson",n),n}(e["Fee-Earnings"]),console.log("JsObjectData",t),t},U=function(e){var t=e.target.files[0],a={};return console.log("here is what the file looks like",e.target.files[0]),new Promise((function(e,n){var r=new FileReader;r.onload=function(t){var n=W.a.read(t.target.result,{type:"binary"});n.SheetNames.forEach((function(e){var t=n.Sheets[e];a[e]=W.a.utils.sheet_to_json(t,{header:1})})),console.log("data",a),e(V(a))},r.onerror=function(e){console.log(e)},r.readAsBinaryString(t)}))},M=function(e,t){var a,n=[],r=Object(v.a)(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;n.includes(o[t])||n.push(o[t])}}catch(i){r.e(i)}finally{r.f()}return n};var q=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)([]),c=Object(d.a)(i,2),g=c[0],h=c[1],p=Object(n.useState)([]),y=Object(d.a)(p,2),v=y[0],b=y[1],k=Object(n.useState)([]),N=Object(d.a)(k,2),T=N[0],O=N[1],C=Object(n.useState)([]),F=Object(d.a)(C,2),I=F[0],A=F[1],j=Object(n.useState)([]),x=Object(d.a)(j,2),D=x[0],w=x[1],B=function(e){var t=M(e["Fee-Earnings"],"category"),a=M(e["Fee-Orders"],"category"),n=[].concat(Object(m.a)(t),Object(m.a)(a)),r=Object(m.a)(new Set(n)).map((function(e){return{category:e,selected:!0,specifiedCommission:null}}));O(r)},P=function(e){var t=M(e["Fee-Earnings"],"tag"),a=M(e["Fee-Orders"],"tag"),n=[].concat(Object(m.a)(t),Object(m.a)(a)),r=Object(m.a)(new Set(n)).map((function(e){return{tag:e,selected:!0}}));w(r)},G=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:a=e.sent,B(a),P(a),b(M(a["Fee-Orders"],"category")),A(M(a["Fee-Orders"],"tag")),o(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),z=Object(n.useState)("home"),L=Object(d.a)(z,2),$=L[0],W=L[1],V=Object(n.useState)(!1),q=Object(d.a)(V,2),K=q[0],J=q[1],Y="App settings-closed";return K&&(Y="App settings-open"),r.a.createElement("div",{className:Y},r.a.createElement(u,{handleFileInput:G,handleToggleSettings:function(){J(!K)}}),r.a.createElement(f,{chart:$,handleChartSelect:function(e){W(e.target.dataset.chartname)}}),r.a.createElement(R,{chart:$,jsObjData:a,specifiedCommissions:g,selectedCategories:v,selectedTags:I,categories:T,tags:D}),r.a.createElement(H,{jsObjData:a,specifiedCommissions:g,handleCommissionChange:function(e,t){var a=g.findIndex((function(t){return t.category===e}));if(-1===a)h(g.concat({category:e,commission:Number((t/100).toFixed(2))}));else{var n=Object(m.a)(g);n[a].commission=Number((t/100).toFixed(2)),h(n)}},handleResetCommissions:function(e){h([])},handleTop10Click:function(e){var t=S(a,g,T.map((function(e){return e.category})));t.sort((function(e,t){return e.income>t.income}));for(var n=[],r=0;r<10;r++)n.push(t[r].category),console.log("top10click:",t[r]);n.toString()!==v.toString()?b(n):b(T.map((function(e){return e.category})))},selectedCategories:v,selectedTags:I,handleCategorySelect:function(e){console.log("Category Select: "),v.includes(e.target.dataset.category)?b(v.filter((function(t){return t!==e.target.dataset.category}))):b([].concat(Object(m.a)(v),[e.target.dataset.category]));var t=e.target.dataset.category,a=T.findIndex((function(e){return e.category===t}));-1!==a&&(T[a].selected=!T[a].selected)},categories:T,tags:D,onSelectAll:function(e){v.length?b([]):b(T.map((function(e){return e.category})))},handleTagSelect:function(e){console.log("Tag Select: "),I.includes(e.target.dataset.tag)?A(I.filter((function(t){return t!==e.target.dataset.tag}))):A([].concat(Object(m.a)(I),[e.target.dataset.tag]));var t=e.target.dataset.tag,a=D.findIndex((function(e){return e.tag===t}));-1!==a&&(D[a].selected=!D[a].selected)},handleSelectAllTags:function(e){I.length?A([]):A(D.map((function(e){return e.tag})))},handleTop10TagClick:function(e){var t=E(a,g,D.map((function(e){return e.tag})));t.sort((function(e,t){return e.income>t.income}));for(var n=[],r=0;r<10;r++)n.push(t[r].tag),console.log("top10click:",t[r]);n.toString()!==I.toString()?A(n):A(D.map((function(e){return e.tag})))},handleClearAllFilters:function(){A(D.map((function(e){return e.tag}))),b(T.map((function(e){return e.category})))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[304,1,2]]]);
//# sourceMappingURL=main.899bfe89.chunk.js.map